import unicodedata, re

class Node:
    def __init__(self, name, start, end, start_column, end_column, children, value):
        self.name = name
        self.start = start
        self.end = end
        self.start_column = start_column
        self.end_column = end_column
        self.children = children if children is not None else ()
        self.value = value
    def __str__(self):
        return '{}[{}:{}]'.format(self.name, self.start, self.end)
    def build(self, buf, builder):
        children = [child.build(buf, builder) for child in self.children]
        if callable(builder): return builder(buf, self, children)
        if self.name == "value": return self.value
        return builder[self.name](buf, self, children)

regex_regex_0 = re.compile(r'''(?:(?:\#)){1,6}''')
regex_regex_1 = re.compile(r'''(?:(?:\#))*''')
regex_regex_2 = re.compile(r'''(?:[^\n])+''')
regex_regex_3 = re.compile(r'''[^\n]''')
regex_regex_4 = re.compile(r'''(?:(?:(?:```))|(?:(?:\~\~\~)))''')
regex_regex_5 = re.compile(r'''(?:(?:`)){3,}''')
regex_regex_6 = re.compile(r'''[!-/:-@\[-`\{-\~]''')
regex_regex_7 = re.compile(r'''(?:[0-9]){1,7}''')
regex_regex_8 = re.compile(r'''[xX]''')
regex_regex_9 = re.compile(r'''[0-9a-fA-F]''')
regex_regex_10 = re.compile(r'''(?:[0-9a-fA-F]){,6}''')
regex_regex_11 = re.compile(r'''[a-zA-Z]''')
regex_regex_12 = re.compile(r'''(?:[0-9a-zA-Z])+''')
regex_regex_13 = re.compile(r'''(?:[^\n\\\&`])*''')
regex_regex_14 = re.compile(r'''(?:[^\n])*''')
regex_regex_15 = re.compile(r'''(?:(?:\~)){3,}''')
regex_regex_16 = re.compile(r'''(?:[^\n\\\&])*''')
regex_regex_17 = re.compile(r'''(?:(?:[\-\*\+])|(?:(?:[0-9]){1,9}[\.\)]))''')
regex_regex_18 = re.compile(r'''[\-\*\+]''')
regex_regex_19 = re.compile(r'''(?:[0-9]){1,9}''')
regex_regex_20 = re.compile(r'''[\.\)]''')
regex_regex_21 = re.compile(r'''[^><\n]''')
regex_regex_22 = re.compile(r'''[^\)\(\n ]''')
regex_regex_23 = re.compile(r'''[^\[\]]''')
regex_regex_24 = re.compile(r'''(?:(?:[\-\*\+])|(?:(?:1)[\.\)]))''')
regex_regex_25 = re.compile(r'''(?:\\)''')
regex_regex_26 = re.compile(r'''(?:(?:(?:(?:=))+)|(?:(?:(?:\-))+))''')
regex_regex_27 = re.compile(r'''(?:(?:=))+''')
regex_regex_28 = re.compile(r'''(?:(?:\-))+''')
regex_regex_29 = re.compile(r'''(?:[a-zA-Z0-9\+\.\-])+''')
regex_regex_30 = re.compile(r'''(?:[^\x00- ><])*''')
regex_regex_31 = re.compile(r'''(?:[a-zA-Z0-9\.!\#\$%\&'\*\+/=\?\^_`\{\|\}\~\-])+''')
regex_regex_32 = re.compile(r'''[a-zA-Z0-9]''')
regex_regex_33 = re.compile(r'''(?:(?:(?:(?:[a-zA-Z0-9])|(?:(?:(?:\-))+[a-zA-Z0-9]))){,62})?''')
regex_regex_34 = re.compile(r'''(?:(?:\.)[a-zA-Z0-9](?:(?:(?:(?:[a-zA-Z0-9])|(?:(?:(?:\-))+[a-zA-Z0-9]))){,61})?)*''')
regex_regex_35 = re.compile(r'''(?:(?:_))+''')
regex_regex_36 = re.compile(r'''(?:(?:\*))+''')
regex_regex_37 = re.compile(r'''[^ \n\\]''')
regex_regex_38 = re.compile(r'''[^ \n\\<`\&\*_\[\]\(\)!]''')
regex_regex_39 = re.compile(r'''(?:(?:(?:(?:\\\[|\\\]))|(?:[^\[\]\n])))+''')
regex_regex_40 = re.compile(r'''(?:\[\]|\(\))''')
regex_regex_41 = re.compile(r'''(?:<|\ )''')
regex_regex_42 = re.compile(r'''[^"\n]''')
regex_regex_43 = re.compile(r'''[^'\n]''')
regex_regex_44 = re.compile(r'''[^\)\(\n]''')
regex_regex_45 = re.compile(r'''[_\*]''')
regex_regex_46 = re.compile(r'''[\*]''')
regex_regex_47 = re.compile(r'''(?:(?:`))+''')
regex_regex_48 = re.compile(r'''[^\n`]''')
regex_regex_49 = re.compile(r'''(?:[^\n`])*''')
regex_regex_50 = re.compile(r'''[^`]''')
regex_regex_51 = re.compile(r'''(?:(?:`))*''')
regex_regex_52 = re.compile(r'''(?:<script|<pre|<style)''')
regex_regex_53 = re.compile(r'''(?:<\?|<!\[CDATA\[)''')
regex_regex_54 = re.compile(r'''(?:<!)[A-Z]''')
regex_regex_55 = re.compile(r'''(?:</|<)''')
regex_regex_56 = re.compile(r'''(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)''')
regex_regex_57 = re.compile(r'''(?:>)''')
regex_regex_58 = re.compile(r'''(?:\-\-|\->|>|\-\-\-)''')
regex_regex_59 = re.compile(r'''[A-Z]''')
regex_regex_60 = re.compile(r'''(?:[^>\n])*''')
regex_regex_61 = re.compile(r'''(?:[a-zA-Z\-0-9])*''')
regex_regex_62 = re.compile(r'''[a-zA-Z:_]''')
regex_regex_63 = re.compile(r'''(?:[a-zA-Z:_0-9\-])+''')
regex_regex_64 = re.compile(r'''(?:[^"'=<>`\t \n\r])+''')
regex_regex_65 = re.compile(r'''(?:[^"\n])*''')
regex_regex_66 = re.compile(r'''(?:[^'\n])*''')
regex_regex_67 = re.compile(r'''(?:/>|>)''')
regex_regex_68 = re.compile(r'''(?:</script>|</pre>|</style>)''')
regex_regex_69 = re.compile(r'''(?:pre|script|style)''')
regex_regex_70 = re.compile(r'''(?:(?:(?:[^"'=<>`\t \n\r])+)|(?:(?:")(?:[^"\n])*(?:"))|(?:(?:')(?:[^'\n])*(?:')))''')
regex_regex_71 = re.compile(r'''(?:>|/>)''')

class Parser:
    def __init__(self, tabstop=None, allow_mixed_indent=False):
         self.tabstop = tabstop or 4
         self.cache = None
         self.allow_mixed_indent = allow_mixed_indent

    def parse(self, buf, offset=0, end=None, err=None, builder=None):
        self.cache = dict()
        end = len(buf) if end is None else end
        start, eof = offset, end
        column, indent_column = 0, [0]
        prefix, children = [], []
        new_offset, column, partial_tab_offset, partial_tab_width = self.parse_document(buf, start, end, offset, column, indent_column, prefix, children, 0, 0)
        if new_offset == end:
             if builder is None: return Node('document', offset, new_offset, 0, column, children, None)
             return children[-1].build(buf, builder)
        # print('no', children, offset, new_offset, end)
        if err is not None: raise err(buf, new_offset, 'no')

    def parse_document(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while True:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    if column_1 != 0:
                        offset_1 = -1
                        break
                    # print('start')
                    for indent, dedent in prefix_0:
                        # print(indent, dedent)
                        _children, _prefix = [], []
                        offset_2 = offset_1
                        offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                        if _prefix or _children:
                           raise Exception('bar')
                        if offset_2 == -1:
                            offset_1 = -1
                            break
                        offset_1 = offset_2
                        indent_column_1.append(column_1)
                    if offset_1 == -1:
                        break

                    while True: # start choice
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_block_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break



                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break
                            else:
                                offset_2 = -1
                                break

                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if column_3 != 0:
                                        offset_3 = -1
                                        break
                                    # print('start')
                                    for indent, dedent in prefix_0:
                                        # print(indent, dedent)
                                        _children, _prefix = [], []
                                        offset_4 = offset_3
                                        offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                        if _prefix or _children:
                                           raise Exception('bar')
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break
                                        offset_3 = offset_4
                                        indent_column_3.append(column_3)
                                    if offset_3 == -1:
                                        break

                                    count_2 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_2 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_2 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_3 = 0
                                            indent_column_3[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if offset_2 == -1:
                                break
                            value_1 = count_1

                            children_3 = []
                            value_2 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            value_2.name = 'empty_line'
                            value_2.end = offset_2
                            value_2.end_column = column_2
                            value_2.value = None
                            children_2.append(value_2)



                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
            if offset_0 == -1:
                break
            value_0 = count_0

            count_0 = 0
            while offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            if offset_0 != buf_eof:
                offset_0 = -1
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_block_element(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_indented_code_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_tilde_code_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_backtick_code_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_blockquote(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_atx_heading(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_ordered_list(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_unordered_list(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_link_definition(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_para(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_thematic_break(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                if buf[offset_2:offset_2+1] == '-':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < 3:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_1 = count_0


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                if buf[offset_2:offset_2+1] == '*':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < 3:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_2 = count_0


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                if buf[offset_2:offset_2+1] == '_':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < 3:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_3 = count_0


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'thematic_break'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            count_0 = 0
            while offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            if offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in '\n':
                    offset_0 +=1
                    column_0 = 0
                    indent_column_0[:] = (0, )
                else:
                    offset_0 = -1
                    break



            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_atx_heading(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            value_0 = 0
            offset_1 = offset_0
            while True: # start backref
                children_1 = []
                value_1 = Node(None, offset_1, offset_1, column_0, column_0, children_1, None)
                while True: # start capture
                    offset_2 = offset_1
                    column_1 = column_0
                    while True: # start count
                        _match = regex_regex_0.match(buf, offset_2)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_2)
                            offset_2 = _end
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1; break
                    value_2 = buf[offset_1:offset_2].count('#')
                    offset_1 = offset_2
                    column_0 = column_1

                    value_0 = value_2

                    while True: # start choice
                        offset_2 = offset_1
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            offset_3 = offset_2
                            children_3 = [] if children_2 is not None else None
                            count_0 = ('memo_0', offset_2)
                            if count_0 in self.cache:
                                offset_3, column_1, indent_column_1[:], children_3, partial_tab_offset_1, partial_tab_width_1 = self.cache[count_0]
                            else:
                                while True:
                                    count_1 = 0
                                    while count_1 < 1:
                                        offset_4 = offset_3
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_4 = [] if children_3 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_3, offset_4)
                                            count_2 = 0
                                            while offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_4 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                            width = partial_tab_width_2
                                                        else:
                                                            width  = (self.tabstop-(column_2%self.tabstop))
                                                        count_2 += width
                                                        column_2 += width
                                                        offset_4 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_2 += 1
                                                        offset_4 += 1
                                                else:
                                                    break
                                            if count_2 < 1:
                                                offset_4 = -1
                                                break

                                            _match = regex_regex_1.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_2 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            #print('safe exit rep rule', offset_3, offset_4)
                                            break
                                        #print('exit rep rule', offset_3, offset_4)
                                        if offset_4 == -1:
                                            break
                                        if offset_3 == offset_4: break
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        offset_3 = offset_4
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        count_1 += 1
                                        break
                                    if offset_3 == -1:
                                        break
                                    value_3 = count_1

                                    count_1 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                    width = partial_tab_width_1
                                                else:
                                                    width  = (self.tabstop-(column_1%self.tabstop))
                                                count_1 += width
                                                column_1 += width
                                                offset_3 += 1
                                            else:
                                                count_1 += 1
                                                column_1 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_1 = 0
                                            indent_column_1[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break

                                    break
                                self.cache[count_0] = (offset_3, column_1, list(indent_column_1), children_3, partial_tab_offset_1,partial_tab_width_1)
                            offset_2 = offset_3
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            if offset_2 == -1:
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_0 = column_1
                            indent_column_0 = indent_column_1
                            partial_tab_offset_0 = partial_tab_offset_1
                            partial_tab_width_0 = partial_tab_width_1
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            count_0 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_2 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_2 += 1
                                else:
                                    break
                            if count_0 < 1:
                                offset_2 = -1
                                break

                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                            if offset_2 == -1: break


                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    while True: # start reject
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        offset_5 = offset_4
                                        children_5 = [] if children_4 is not None else None
                                        count_1 = ('memo_1', offset_4)
                                        if count_1 in self.cache:
                                            offset_5, column_3, indent_column_3[:], children_5, partial_tab_offset_3, partial_tab_width_3 = self.cache[count_1]
                                        else:
                                            while True:
                                                count_2 = 0
                                                while count_2 < 1:
                                                    offset_6 = offset_5
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    children_6 = [] if children_5 is not None else None
                                                    while True:
                                                        #print('entry rep rule', offset_5, offset_6)
                                                        count_3 = 0
                                                        while offset_6 < buf_eof:
                                                            codepoint = buf[offset_6]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_6 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                        width = partial_tab_width_4
                                                                    else:
                                                                        width  = (self.tabstop-(column_4%self.tabstop))
                                                                    count_3 += width
                                                                    column_4 += width
                                                                    offset_6 += 1
                                                                else:
                                                                    count_3 += 1
                                                                    column_4 += 1
                                                                    offset_6 += 1
                                                            else:
                                                                break
                                                        if count_3 < 1:
                                                            offset_6 = -1
                                                            break

                                                        _match = regex_regex_1.match(buf, offset_6)
                                                        if _match:
                                                            _end = _match.end()
                                                            column_4 += (_end - offset_6)
                                                            offset_6 = _end
                                                        else:
                                                            offset_6 = -1
                                                            break

                                                        #print('safe exit rep rule', offset_5, offset_6)
                                                        break
                                                    #print('exit rep rule', offset_5, offset_6)
                                                    if offset_6 == -1:
                                                        break
                                                    if offset_5 == offset_6: break
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    offset_5 = offset_6
                                                    column_3 = column_4
                                                    indent_column_3 = indent_column_4
                                                    partial_tab_offset_3 = partial_tab_offset_4
                                                    partial_tab_width_3 = partial_tab_width_4
                                                    count_2 += 1
                                                    break
                                                if offset_5 == -1:
                                                    break
                                                value_5 = count_2

                                                count_2 = 0
                                                while offset_5 < buf_eof:
                                                    codepoint = buf[offset_5]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_5 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                width = partial_tab_width_3
                                                            else:
                                                                width  = (self.tabstop-(column_3%self.tabstop))
                                                            count_2 += width
                                                            column_3 += width
                                                            offset_5 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_3 += 1
                                                            offset_5 += 1
                                                    else:
                                                        break

                                                if offset_5 < buf_eof:
                                                    codepoint = buf[offset_5]
                                                    if codepoint in '\n':
                                                        offset_5 +=1
                                                        column_3 = 0
                                                        indent_column_3[:] = (0, )
                                                    else:
                                                        offset_5 = -1
                                                        break

                                                break
                                            self.cache[count_1] = (offset_5, column_3, list(indent_column_3), children_5, partial_tab_offset_3,partial_tab_width_3)
                                        offset_4 = offset_5
                                        if children_5 is not None and children_5 is not None:
                                            children_4.extend(children_5)
                                        if offset_4 == -1:
                                            break

                                        break
                                    if offset_4 != -1:
                                        offset_3 = -1
                                        break

                                    children_4 = []
                                    value_6 = Node(None, offset_3, offset_3, column_2, column_2, children_4, None)
                                    while True: # start capture
                                        count_1 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                        width = partial_tab_width_2
                                                    else:
                                                        width  = (self.tabstop-(column_2%self.tabstop))
                                                    count_1 += width
                                                    column_2 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_2 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_6.name = 'whitespace'
                                    value_6.end = offset_3
                                    value_6.end_column = column_2
                                    value_6.value = None
                                    children_3.append(value_6)

                                    offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, prefix_0, children_3, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_3 == -1: break


                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_4 = count_0

                            count_0 = 0
                            while count_0 < 1:
                                offset_3 = offset_2
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+1] == '\\':
                                        offset_3 += 1
                                        column_2 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    children_3.append(Node('value', offset_3, offset_3, column_2, column_2, (), '\\'))

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                                break
                            if offset_2 == -1:
                                break
                            value_7 = count_0

                            offset_3 = offset_2
                            children_3 = [] if children_2 is not None else None
                            count_0 = ('memo_2', offset_2)
                            if count_0 in self.cache:
                                offset_3, column_1, indent_column_1[:], children_3, partial_tab_offset_1, partial_tab_width_1 = self.cache[count_0]
                            else:
                                while True:
                                    count_1 = 0
                                    while count_1 < 1:
                                        offset_4 = offset_3
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_4 = [] if children_3 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_3, offset_4)
                                            count_2 = 0
                                            while offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_4 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                            width = partial_tab_width_2
                                                        else:
                                                            width  = (self.tabstop-(column_2%self.tabstop))
                                                        count_2 += width
                                                        column_2 += width
                                                        offset_4 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_2 += 1
                                                        offset_4 += 1
                                                else:
                                                    break
                                            if count_2 < 1:
                                                offset_4 = -1
                                                break

                                            _match = regex_regex_1.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_2 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            #print('safe exit rep rule', offset_3, offset_4)
                                            break
                                        #print('exit rep rule', offset_3, offset_4)
                                        if offset_4 == -1:
                                            break
                                        if offset_3 == offset_4: break
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        offset_3 = offset_4
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        count_1 += 1
                                        break
                                    if offset_3 == -1:
                                        break
                                    value_8 = count_1

                                    count_1 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                    width = partial_tab_width_1
                                                else:
                                                    width  = (self.tabstop-(column_1%self.tabstop))
                                                count_1 += width
                                                column_1 += width
                                                offset_3 += 1
                                            else:
                                                count_1 += 1
                                                column_1 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_1 = 0
                                            indent_column_1[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break

                                    break
                                self.cache[count_0] = (offset_3, column_1, list(indent_column_1), children_3, partial_tab_offset_1,partial_tab_width_1)
                            offset_2 = offset_3
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            if offset_2 == -1:
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_0 = column_1
                            indent_column_0 = indent_column_1
                            partial_tab_offset_0 = partial_tab_offset_1
                            partial_tab_width_0 = partial_tab_width_1
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break

                    break
                if offset_1 == -1:
                    break
                value_1.name = 'atx_heading'
                value_1.end = offset_1
                value_1.end_column = column_0
                value_1.value = value_0
                children_0.append(value_1)

                break
            if offset_1 == -1:
                offset_0 = -1
                break
            offset_0 = offset_1


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_indented_code_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 4:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 4:
                            new_width = 4 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break
            if count_0 < 4:
                offset_0 = -1
                break

            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = column_0 - indent_column_0[len(indent_column_0)-1]
                # print(count_0, 'indent')
                def _indent(buf, buf_start, buf_eof, offset, column, indent_column,  prefix,  children, partial_tab_offset, partial_tab_width, count=count_0, allow_mixed_indent=self.allow_mixed_indent):
                    saw_tab, saw_not_tab = False, False
                    start_column, start_offset = column, offset
                    if count < 0: offset = -1
                    while count > 0 and offset < buf_eof:
                        codepoint = buf[offset]
                        if codepoint in ' \t':
                            if not allow_mixed_indent:
                                if codepoint == '\t': saw_tab = True
                                else: saw_not_tab = True
                                if saw_tab and saw_not_tab:
                                     offset -1; break
                            if codepoint != '\t':
                                column += 1
                                offset += 1
                                count -=1
                            else:
                                if offset == partial_tab_offset and partial_tab_width > 0:
                                    width = partial_tab_width
                                else:
                                    width  = (self.tabstop-(column%self.tabstop))
                                if width <= count:
                                    column += width
                                    offset += 1
                                    count -= width
                                else:
                                    column += count
                                    partial_tab_offset = offset
                                    partial_tab_width = width-count
                                    break
                        elif codepoint in '\n':
                            break
                        else:
                            offset = -1
                            break
                    return offset, column, partial_tab_offset, partial_tab_width
                prefix_0.append((_indent, None))
                indent_column_0.append(column_0)
                while True:
                    children_2 = []
                    value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                    while True: # start capture
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            offset_0 += 1
                            column_0 += partial_tab_width_0

                        break
                    if offset_0 == -1:
                        break
                    value_1.name = 'partial_indent'
                    value_1.end = offset_0
                    value_1.end_column = column_0
                    value_1.value = None
                    children_1.append(value_1)

                    children_2 = []
                    value_2 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while offset_0 < buf_eof:
                            codepoint = buf[offset_0]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                        width = partial_tab_width_0
                                    else:
                                        width  = (self.tabstop-(column_0%self.tabstop))
                                    count_0 += width
                                    column_0 += width
                                    offset_0 += 1
                                else:
                                    count_0 += 1
                                    column_0 += 1
                                    offset_0 += 1
                            else:
                                break

                        _match = regex_regex_2.match(buf, offset_0)
                        if _match:
                            _end = _match.end()
                            column_0 += (_end - offset_0)
                            offset_0 = _end
                        else:
                            offset_0 = -1
                            break

                        break
                    if offset_0 == -1:
                        break
                    value_2.name = 'indented_code_line'
                    value_2.end = offset_0
                    value_2.end_column = column_0
                    value_2.value = None
                    children_1.append(value_2)

                    if offset_0 < buf_eof:
                        codepoint = buf[offset_0]
                        if codepoint in '\n':
                            offset_0 +=1
                            column_0 = 0
                            indent_column_0[:] = (0, )
                        else:
                            offset_0 = -1
                            break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start choice
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    count_1 = 0
                                    while True:
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_4 = [] if children_3 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_2, offset_3)
                                            if column_3 != 0:
                                                offset_3 = -1
                                                break
                                            # print('start')
                                            for indent, dedent in prefix_0:
                                                # print(indent, dedent)
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if _prefix or _children:
                                                   raise Exception('bar')
                                                if offset_4 == -1:
                                                    offset_3 = -1
                                                    break
                                                offset_3 = offset_4
                                                indent_column_3.append(column_3)
                                            if offset_3 == -1:
                                                break

                                            children_5 = []
                                            value_5 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_3 < buf_eof:
                                                    codepoint = buf[offset_3]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                width = partial_tab_width_3
                                                            else:
                                                                width  = (self.tabstop-(column_3%self.tabstop))
                                                            count_2 += width
                                                            column_3 += width
                                                            offset_3 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_3 += 1
                                                            offset_3 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_5.name = 'indented_code_line'
                                            value_5.end = offset_3
                                            value_5.end_column = column_3
                                            value_5.value = None
                                            children_4.append(value_5)

                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            #print('safe exit rep rule', offset_2, offset_3)
                                            break
                                        #print('exit rep rule', offset_2, offset_3)
                                        if offset_3 == -1:
                                            break
                                        if offset_2 == offset_3: break
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        count_1 += 1
                                    if count_1 < 1:
                                    #    print('min exit', offset_2)
                                        offset_2 = -1
                                        break
                                    if offset_2 == -1:
                                        break
                                    value_4 = count_1

                                    while True: # start lookahed
                                        children_4 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if column_3 != 0:
                                            offset_3 = -1
                                            break
                                        # print('start')
                                        for indent, dedent in prefix_0:
                                            # print(indent, dedent)
                                            _children, _prefix = [], []
                                            offset_4 = offset_3
                                            offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                            if _prefix or _children:
                                               raise Exception('bar')
                                            if offset_4 == -1:
                                                offset_3 = -1
                                                break
                                            offset_3 = offset_4
                                            indent_column_3.append(column_3)
                                        if offset_3 == -1:
                                            break

                                        count_1 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        _match = regex_regex_3.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        offset_2 = -1
                                        break


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    if column_2 != 0:
                                        offset_2 = -1
                                        break
                                    # print('start')
                                    for indent, dedent in prefix_0:
                                        # print(indent, dedent)
                                        _children, _prefix = [], []
                                        offset_3 = offset_2
                                        offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                        if _prefix or _children:
                                           raise Exception('bar')
                                        if offset_3 == -1:
                                            offset_2 = -1
                                            break
                                        offset_2 = offset_3
                                        indent_column_2.append(column_2)
                                    if offset_2 == -1:
                                        break

                                    children_4 = []
                                    value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_4, None)
                                    while True: # start capture
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            offset_2 += 1
                                            column_2 += partial_tab_width_2

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_6.name = 'partial_indent'
                                    value_6.end = offset_2
                                    value_6.end_column = column_2
                                    value_6.value = None
                                    children_3.append(value_6)

                                    children_4 = []
                                    value_7 = Node(None, offset_2, offset_2, column_2, column_2, children_4, None)
                                    while True: # start capture
                                        count_1 = 0
                                        while offset_2 < buf_eof:
                                            codepoint = buf[offset_2]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                        width = partial_tab_width_2
                                                    else:
                                                        width  = (self.tabstop-(column_2%self.tabstop))
                                                    count_1 += width
                                                    column_2 += width
                                                    offset_2 += 1
                                                else:
                                                    count_1 += 1
                                                    column_2 += 1
                                                    offset_2 += 1
                                            else:
                                                break

                                        _match = regex_regex_2.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_7.name = 'indented_code_line'
                                    value_7.end = offset_2
                                    value_7.end_column = column_2
                                    value_7.value = None
                                    children_3.append(value_7)

                                    if offset_2 < buf_eof:
                                        codepoint = buf[offset_2]
                                        if codepoint in '\n':
                                            offset_2 +=1
                                            column_2 = 0
                                            indent_column_2[:] = (0, )
                                        else:
                                            offset_2 = -1
                                            break


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_1 = -1 # no more choices
                                break # end choice
                            if offset_1 == -1:
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_3 = count_0

                    break
                prefix_0.pop()
                if len(indent_column_0) > 1: indent_column_0.pop()
                if offset_0 == -1: break

                break
            if offset_0 == -1:
                break
            value_0.name = 'indented_code'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_start_fenced_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            _match = regex_regex_4.match(buf, offset_0)
            if _match:
                _end = _match.end()
                column_0 += (_end - offset_0)
                offset_0 = _end
            else:
                offset_0 = -1
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_backtick_code_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            offset_1 = offset_0
            column_1 = column_0
            while True: # start count
                count_0 = 0
                while offset_1 < buf_eof and count_0 < 3:
                    codepoint = buf[offset_1]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_1 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_1%self.tabstop))
                            if count_0 + width > 3:
                                new_width = 3 - count_0
                                count_0 += new_width
                                column_1 += new_width
                                partial_tab_offset_0 = offset_1
                                partial_tab_width_0 = width - new_width
                                break
                            count_0 += width
                            column_1 += width
                            offset_1 += 1
                        else:
                            count_0 += 1
                            column_1 += 1
                            offset_1 += 1
                    else:
                        break

                break
            if offset_1 == -1:
                offset_0 = -1; break
            value_0 = column_1 - column_0
            offset_0 = offset_1
            column_0 = column_1

            children_1 = []
            value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                offset_1 = offset_0
                column_1 = column_0
                while True: # start count
                    _match = regex_regex_5.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 == -1:
                    offset_0 = -1; break
                value_2 = buf[offset_0:offset_1].count('`')
                offset_0 = offset_1
                column_0 = column_1

                children_2 = []
                value_3 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                if buf[offset_2:offset_2+1] == '`':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            while True: # start choice
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    while True: # start choice
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '\\':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_5 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_6.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_5.name = 'text'
                                            value_5.end = offset_3
                                            value_5.end_column = column_3
                                            value_5.value = None
                                            children_5.append(value_5)


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            children_6 = []
                                            value_6 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                if buf[offset_3:offset_3+1] == '\\':
                                                    offset_3 += 1
                                                    column_3 += 1
                                                else:
                                                    offset_3 = -1
                                                    break

                                                while True: # start reject
                                                    children_7 = []
                                                    offset_4 = offset_3 + 0
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    if offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in '\n':
                                                            offset_4 +=1
                                                            column_4 = 0
                                                            indent_column_4[:] = (0, )
                                                        else:
                                                            offset_4 = -1
                                                            break
                                                    else:
                                                        offset_4 = -1
                                                        break

                                                    count_1 = 0
                                                    while offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                    width = partial_tab_width_4
                                                                else:
                                                                    width  = (self.tabstop-(column_4%self.tabstop))
                                                                count_1 += width
                                                                column_4 += width
                                                                offset_4 += 1
                                                            else:
                                                                count_1 += 1
                                                                column_4 += 1
                                                                offset_4 += 1
                                                        else:
                                                            break

                                                    _match = regex_regex_3.match(buf, offset_4)
                                                    if _match:
                                                        _end = _match.end()
                                                        column_4 += (_end - offset_4)
                                                        offset_4 = _end
                                                    else:
                                                        offset_4 = -1
                                                        break

                                                    break
                                                if offset_4 != -1:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_6.name = 'text'
                                            value_6.end = offset_3
                                            value_6.end_column = column_3
                                            value_6.value = None
                                            children_5.append(value_6)


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_2 = -1 # no more choices
                                        break # end choice
                                    if offset_2 == -1:
                                        break


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    if buf[offset_2:offset_2+1] == '&':
                                        offset_2 += 1
                                        column_2 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    while True: # start choice
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '#':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_7 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_7.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_7.name = 'html_entity'
                                            value_7.end = offset_3
                                            value_7.end_column = column_3
                                            value_7.value = 'decimal'
                                            children_5.append(value_7)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '#':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            _match = regex_regex_8.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_8 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_9.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                _match = regex_regex_10.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_8.name = 'html_entity'
                                            value_8.end = offset_3
                                            value_8.end_column = column_3
                                            value_8.value = 'hex'
                                            children_5.append(value_8)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            children_6 = []
                                            value_9 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_11.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                _match = regex_regex_12.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_9.name = 'html_entity'
                                            value_9.end = offset_3
                                            value_9.end_column = column_3
                                            value_9.value = 'named'
                                            children_5.append(value_9)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_2 = -1 # no more choices
                                        break # end choice
                                    if offset_2 == -1:
                                        break



                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    children_5 = []
                                    value_10 = Node(None, offset_2, offset_2, column_2, column_2, children_5, None)
                                    while True: # start capture
                                        _match = regex_regex_3.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        _match = regex_regex_13.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_10.name = 'text'
                                    value_10.end = offset_2
                                    value_10.end_column = column_2
                                    value_10.value = None
                                    children_4.append(value_10)


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_1 = -1 # no more choices
                                break # end choice
                            if offset_1 == -1:
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_4 = count_0

                    break
                if offset_0 == -1:
                    break
                value_3.name = 'info'
                value_3.end = offset_0
                value_3.end_column = column_0
                value_3.value = None
                children_1.append(value_3)

                count_0 = 0
                while offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                if offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in '\n':
                        offset_0 +=1
                        column_0 = 0
                        indent_column_0[:] = (0, )
                    else:
                        offset_0 = -1
                        break


                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof and count_1 < 3:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        if count_1 + width > 3:
                                            new_width = 3 - count_1
                                            count_1 += new_width
                                            column_2 += new_width
                                            partial_tab_offset_2 = offset_2
                                            partial_tab_width_2 = width - new_width
                                            break
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+1] == '`':
                                        offset_3 += 1
                                        column_3 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    count_2 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_2 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_2 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if count_1 < value_2:
                            #    print('min exit', offset_2)
                                offset_2 = -1
                                break
                            if offset_2 == -1:
                                break
                            value_12 = count_1

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        count_1 = 0
                        while offset_1 < buf_eof and count_1 < value_0:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_1 + width > value_0:
                                        new_width = value_0 - count_1
                                        count_1 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_1 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_1 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        children_3 = []
                        value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_13.name = 'text'
                        value_13.end = offset_1
                        value_13.end_column = column_1
                        value_13.value = None
                        children_2.append(value_13)

                        count_1 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_1 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_1 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_11 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 != buf_eof:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_0 = 0
                        while offset_1 < buf_eof and count_0 < 3:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_0 + width > 3:
                                        new_width = 3 - count_0
                                        count_0 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if buf[offset_2:offset_2+1] == '`':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < value_2:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_14 = count_0

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break



                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_1.name = 'fenced_code'
            value_1.end = offset_0
            value_1.end_column = column_0
            value_1.value = None
            children_0.append(value_1)


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_tilde_code_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            offset_1 = offset_0
            column_1 = column_0
            while True: # start count
                count_0 = 0
                while offset_1 < buf_eof and count_0 < 3:
                    codepoint = buf[offset_1]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_1 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_1%self.tabstop))
                            if count_0 + width > 3:
                                new_width = 3 - count_0
                                count_0 += new_width
                                column_1 += new_width
                                partial_tab_offset_0 = offset_1
                                partial_tab_width_0 = width - new_width
                                break
                            count_0 += width
                            column_1 += width
                            offset_1 += 1
                        else:
                            count_0 += 1
                            column_1 += 1
                            offset_1 += 1
                    else:
                        break

                break
            if offset_1 == -1:
                offset_0 = -1; break
            value_0 = column_1 - column_0
            offset_0 = offset_1
            column_0 = column_1

            children_1 = []
            value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                offset_1 = offset_0
                column_1 = column_0
                while True: # start count
                    _match = regex_regex_15.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 == -1:
                    offset_0 = -1; break
                value_2 = buf[offset_0:offset_1].count('~')
                offset_0 = offset_1
                column_0 = column_1

                children_2 = []
                value_3 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start choice
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    while True: # start choice
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '\\':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_5 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_6.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_5.name = 'text'
                                            value_5.end = offset_3
                                            value_5.end_column = column_3
                                            value_5.value = None
                                            children_5.append(value_5)


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            children_6 = []
                                            value_6 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                if buf[offset_3:offset_3+1] == '\\':
                                                    offset_3 += 1
                                                    column_3 += 1
                                                else:
                                                    offset_3 = -1
                                                    break

                                                while True: # start reject
                                                    children_7 = []
                                                    offset_4 = offset_3 + 0
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    if offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in '\n':
                                                            offset_4 +=1
                                                            column_4 = 0
                                                            indent_column_4[:] = (0, )
                                                        else:
                                                            offset_4 = -1
                                                            break
                                                    else:
                                                        offset_4 = -1
                                                        break

                                                    count_1 = 0
                                                    while offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                    width = partial_tab_width_4
                                                                else:
                                                                    width  = (self.tabstop-(column_4%self.tabstop))
                                                                count_1 += width
                                                                column_4 += width
                                                                offset_4 += 1
                                                            else:
                                                                count_1 += 1
                                                                column_4 += 1
                                                                offset_4 += 1
                                                        else:
                                                            break

                                                    _match = regex_regex_3.match(buf, offset_4)
                                                    if _match:
                                                        _end = _match.end()
                                                        column_4 += (_end - offset_4)
                                                        offset_4 = _end
                                                    else:
                                                        offset_4 = -1
                                                        break

                                                    break
                                                if offset_4 != -1:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_6.name = 'text'
                                            value_6.end = offset_3
                                            value_6.end_column = column_3
                                            value_6.value = None
                                            children_5.append(value_6)


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_2 = -1 # no more choices
                                        break # end choice
                                    if offset_2 == -1:
                                        break


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    if buf[offset_2:offset_2+1] == '&':
                                        offset_2 += 1
                                        column_2 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    while True: # start choice
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '#':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_7 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_7.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_7.name = 'html_entity'
                                            value_7.end = offset_3
                                            value_7.end_column = column_3
                                            value_7.value = 'decimal'
                                            children_5.append(value_7)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '#':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            _match = regex_regex_8.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            children_6 = []
                                            value_8 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_9.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                _match = regex_regex_10.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_8.name = 'html_entity'
                                            value_8.end = offset_3
                                            value_8.end_column = column_3
                                            value_8.value = 'hex'
                                            children_5.append(value_8)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            children_6 = []
                                            value_9 = Node(None, offset_3, offset_3, column_3, column_3, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_11.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                _match = regex_regex_12.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_3 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_9.name = 'html_entity'
                                            value_9.end = offset_3
                                            value_9.end_column = column_3
                                            value_9.value = 'named'
                                            children_5.append(value_9)

                                            if buf[offset_3:offset_3+1] == ';':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_2 = -1 # no more choices
                                        break # end choice
                                    if offset_2 == -1:
                                        break



                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    children_5 = []
                                    value_10 = Node(None, offset_2, offset_2, column_2, column_2, children_5, None)
                                    while True: # start capture
                                        _match = regex_regex_3.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        _match = regex_regex_16.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_10.name = 'text'
                                    value_10.end = offset_2
                                    value_10.end_column = column_2
                                    value_10.value = None
                                    children_4.append(value_10)


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_1 = -1 # no more choices
                                break # end choice
                            if offset_1 == -1:
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_4 = count_0

                    break
                if offset_0 == -1:
                    break
                value_3.name = 'info'
                value_3.end = offset_0
                value_3.end_column = column_0
                value_3.value = None
                children_1.append(value_3)

                count_0 = 0
                while offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                if offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in '\n':
                        offset_0 +=1
                        column_0 = 0
                        indent_column_0[:] = (0, )
                    else:
                        offset_0 = -1
                        break


                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof and count_1 < 3:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        if count_1 + width > 3:
                                            new_width = 3 - count_1
                                            count_1 += new_width
                                            column_2 += new_width
                                            partial_tab_offset_2 = offset_2
                                            partial_tab_width_2 = width - new_width
                                            break
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+1] == '~':
                                        offset_3 += 1
                                        column_3 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    count_2 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_2 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_2 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if count_1 < value_2:
                            #    print('min exit', offset_2)
                                offset_2 = -1
                                break
                            if offset_2 == -1:
                                break
                            value_12 = count_1

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        count_1 = 0
                        while offset_1 < buf_eof and count_1 < value_0:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_1 + width > value_0:
                                        new_width = value_0 - count_1
                                        count_1 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_1 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_1 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        children_3 = []
                        value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_13.name = 'text'
                        value_13.end = offset_1
                        value_13.end_column = column_1
                        value_13.value = None
                        children_2.append(value_13)

                        count_1 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_1 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_1 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_11 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 != buf_eof:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_0 = 0
                        while offset_1 < buf_eof and count_0 < 3:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_0 + width > 3:
                                        new_width = 3 - count_0
                                        count_0 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if buf[offset_2:offset_2+1] == '~':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < value_2:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_14 = count_0

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break



                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_1.name = 'fenced_code'
            value_1.end = offset_0
            value_1.end_column = column_0
            value_1.value = None
            children_0.append(value_1)


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_start_blockquote(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            if buf[offset_0:offset_0+1] == '>':
                offset_0 += 1
                column_0 += 1
            else:
                offset_0 = -1
                break

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        count_0 = 0
                        while offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                        width = partial_tab_width_2
                                    else:
                                        width  = (self.tabstop-(column_2%self.tabstop))
                                    count_0 += width
                                    column_2 += width
                                    offset_2 += 1
                                else:
                                    count_0 += 1
                                    column_2 += 1
                                    offset_2 += 1
                            else:
                                break

                        if offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in '\n':
                                offset_2 +=1
                                column_2 = 0
                                indent_column_2[:] = (0, )
                            else:
                                offset_2 = -1
                                break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof and count_0 < 1:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                if count_0 + width > 1:
                                    new_width = 1 - count_0
                                    count_0 += new_width
                                    column_1 += new_width
                                    partial_tab_offset_1 = offset_1
                                    partial_tab_width_1 = width - new_width
                                    break
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        _match = regex_regex_3.match(buf, offset_2)
                        if _match:
                            _end = _match.end()
                            column_2 += (_end - offset_2)
                            offset_2 = _end
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_blockquote_interrupt(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    if offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in '\n':
                            offset_1 +=1
                            column_1 = 0
                            indent_column_1[:] = (0, )
                        else:
                            offset_1 = -1
                            break
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_atx_heading(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_fenced_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_list(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_html_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_blockquote(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                offset_0, column_0, partial_tab_offset_0, partial_tab_width_0 = self.parse_start_blockquote(buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_1, partial_tab_offset_0, partial_tab_width_0)
                if offset_0 == -1: break


                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        prefix_0.append((self.parse_start_blockquote, self.parse_blockquote_interrupt))
                        indent_column_1.append(column_1)
                        while True:
                            offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_block_element(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                            if offset_1 == -1: break


                            break
                        prefix_0.pop()
                        if len(indent_column_1) > 1: indent_column_1.pop()
                        if offset_1 == -1: break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_blockquote(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                prefix_0.append((self.parse_start_blockquote, self.parse_blockquote_interrupt))
                                indent_column_2.append(column_2)
                                while True:
                                    offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_block_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_3, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_2 == -1: break


                                    break
                                prefix_0.pop()
                                if len(indent_column_2) > 1: indent_column_2.pop()
                                if offset_2 == -1: break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_1 = count_0

                break
            if offset_0 == -1:
                break
            value_0.name = 'blockquote'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_start_list(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            _match = regex_regex_17.match(buf, offset_0)
            if _match:
                _end = _match.end()
                column_0 += (_end - offset_0)
                offset_0 = _end
            else:
                offset_0 = -1
                break

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        count_0 = 0
                        while offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                        width = partial_tab_width_2
                                    else:
                                        width  = (self.tabstop-(column_2%self.tabstop))
                                    count_0 += width
                                    column_2 += width
                                    offset_2 += 1
                                else:
                                    count_0 += 1
                                    column_2 += 1
                                    offset_2 += 1
                            else:
                                break

                        if offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in '\n':
                                offset_2 +=1
                                column_2 = 0
                                indent_column_2[:] = (0, )
                            else:
                                offset_2 = -1
                                break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof and count_0 < 1:
                        codepoint = buf[offset_1]
                        if codepoint in '\n':
                            offset_1 +=1
                            column_1 = 0
                            indent_column_1[:] = (0, )
                            count_0 +=1
                        elif codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                if count_0 + width > 1:
                                    new_width = 1 - count_0
                                    count_0 += new_width
                                    column_1 += new_width
                                    partial_tab_offset_1 = offset_1
                                    partial_tab_width_1 = width - new_width
                                    break
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break
                    if count_0 < 1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_list_interrupts(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_atx_heading(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_fenced_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_blockquote(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_html_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_list(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_list_item(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        count_0 = 0
                        while offset_2 < buf_eof and count_0 < 4:
                            codepoint = buf[offset_2]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                        width = partial_tab_width_2
                                    else:
                                        width  = (self.tabstop-(column_2%self.tabstop))
                                    if count_0 + width > 4:
                                        new_width = 4 - count_0
                                        count_0 += new_width
                                        column_2 += new_width
                                        partial_tab_offset_2 = offset_2
                                        partial_tab_width_2 = width - new_width
                                        break
                                    count_0 += width
                                    column_2 += width
                                    offset_2 += 1
                                else:
                                    count_0 += 1
                                    column_2 += 1
                                    offset_2 += 1
                            else:
                                break
                        if count_0 < 4:
                            offset_2 = -1
                            break

                        while True: # start reject
                            children_3 = []
                            offset_3 = offset_2 + 0
                            column_3 = column_2
                            indent_column_3 = list(indent_column_2)
                            partial_tab_offset_3 = partial_tab_offset_2
                            partial_tab_width_3 = partial_tab_width_2
                            count_0 = 0
                            while offset_3 < buf_eof:
                                codepoint = buf[offset_3]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                            width = partial_tab_width_3
                                        else:
                                            width  = (self.tabstop-(column_3%self.tabstop))
                                        count_0 += width
                                        column_3 += width
                                        offset_3 += 1
                                    else:
                                        count_0 += 1
                                        column_3 += 1
                                        offset_3 += 1
                                else:
                                    break

                            if offset_3 < buf_eof:
                                codepoint = buf[offset_3]
                                if codepoint in '\n':
                                    offset_3 +=1
                                    column_3 = 0
                                    indent_column_3[:] = (0, )
                                else:
                                    offset_3 = -1
                                    break


                            break
                        if offset_3 != -1:
                            offset_2 = -1
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_start_fenced_block(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                        if offset_2 == -1: break


                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    while True: # start reject
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        if offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in '\n':
                                offset_2 +=1
                                column_2 = 0
                                indent_column_2[:] = (0, )
                            else:
                                offset_2 = -1
                                break
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 != -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        count_0 = 0
                        while offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                        width = partial_tab_width_2
                                    else:
                                        width  = (self.tabstop-(column_2%self.tabstop))
                                    count_0 += width
                                    column_2 += width
                                    offset_2 += 1
                                else:
                                    count_0 += 1
                                    column_2 += 1
                                    offset_2 += 1
                            else:
                                break

                        if offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in '\n':
                                offset_2 +=1
                                column_2 = 0
                                indent_column_2[:] = (0, )
                            else:
                                offset_2 = -1
                                break
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break

                    count_0 = column_1 - indent_column_1[len(indent_column_1)-1]
                    # print(count_0, 'indent')
                    def _indent(buf, buf_start, buf_eof, offset, column, indent_column,  prefix,  children, partial_tab_offset, partial_tab_width, count=count_0, allow_mixed_indent=self.allow_mixed_indent):
                        saw_tab, saw_not_tab = False, False
                        start_column, start_offset = column, offset
                        if count < 0: offset = -1
                        while count > 0 and offset < buf_eof:
                            codepoint = buf[offset]
                            if codepoint in ' \t':
                                if not allow_mixed_indent:
                                    if codepoint == '\t': saw_tab = True
                                    else: saw_not_tab = True
                                    if saw_tab and saw_not_tab:
                                         offset -1; break
                                if codepoint != '\t':
                                    column += 1
                                    offset += 1
                                    count -=1
                                else:
                                    if offset == partial_tab_offset and partial_tab_width > 0:
                                        width = partial_tab_width
                                    else:
                                        width  = (self.tabstop-(column%self.tabstop))
                                    if width <= count:
                                        column += width
                                        offset += 1
                                        count -= width
                                    else:
                                        column += count
                                        partial_tab_offset = offset
                                        partial_tab_width = width-count
                                        break
                            elif codepoint in '\n':
                                break
                            else:
                                offset = -1
                                break
                        return offset, column, partial_tab_offset, partial_tab_width
                    prefix_0.append((_indent, None))
                    indent_column_1.append(column_1)
                    while True:
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        break
                    prefix_0.pop()
                    if len(indent_column_1) > 1: indent_column_1.pop()
                    if offset_1 == -1: break

                    count_0 = 0
                    while offset_1 < buf_eof and count_0 < 1:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                if count_0 + width > 1:
                                    new_width = 1 - count_0
                                    count_0 += new_width
                                    column_1 += new_width
                                    partial_tab_offset_1 = offset_1
                                    partial_tab_width_1 = width - new_width
                                    break
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break
                    if count_0 < 1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            count_0 = column_0 - indent_column_0[len(indent_column_0)-1]
            # print(count_0, 'indent')
            def _indent(buf, buf_start, buf_eof, offset, column, indent_column,  prefix,  children, partial_tab_offset, partial_tab_width, count=count_0, allow_mixed_indent=self.allow_mixed_indent):
                saw_tab, saw_not_tab = False, False
                start_column, start_offset = column, offset
                if count < 0: offset = -1
                while count > 0 and offset < buf_eof:
                    codepoint = buf[offset]
                    if codepoint in ' \t':
                        if not allow_mixed_indent:
                            if codepoint == '\t': saw_tab = True
                            else: saw_not_tab = True
                            if saw_tab and saw_not_tab:
                                 offset -1; break
                        if codepoint != '\t':
                            column += 1
                            offset += 1
                            count -=1
                        else:
                            if offset == partial_tab_offset and partial_tab_width > 0:
                                width = partial_tab_width
                            else:
                                width  = (self.tabstop-(column%self.tabstop))
                            if width <= count:
                                column += width
                                offset += 1
                                count -= width
                            else:
                                column += count
                                partial_tab_offset = offset
                                partial_tab_width = width-count
                                break
                    elif codepoint in '\n':
                        break
                    else:
                        offset = -1
                        break
                return offset, column, partial_tab_offset, partial_tab_width
            prefix_0.append((_indent, self.parse_list_interrupts))
            indent_column_0.append(column_0)
            while True:
                offset_0, column_0, partial_tab_offset_0, partial_tab_width_0 = self.parse_block_element(buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0)
                if offset_0 == -1: break


                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_1 = [] if children_0 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                if dedent is None:
                                    offset_1 = -1
                                    break
                                _children, _prefix = [], []
                                offset_2 = offset_1
                                offset_2, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_2, column_1, list(indent_column_1), _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                                if offset_2 != -1:
                                    offset_1 = -1
                                    break
                                else:
                                    offset_2 = offset_1
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_1 = 0
                        while count_1 < 1:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_2 = [] if children_1 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                count_2 = 0
                                while True:
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_3 = [] if children_2 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_2, offset_3)
                                        count_3 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_3 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_3 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        children_4 = []
                                        value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                        while True: # start capture
                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_3.name = 'empty'
                                        value_3.end = offset_3
                                        value_3.end_column = column_3
                                        value_3.value = None
                                        children_3.append(value_3)

                                        if column_3 != 0:
                                            offset_3 = -1
                                            break
                                        # print('start')
                                        for indent, dedent in prefix_0:
                                            # print(indent, dedent)
                                            _children, _prefix = [], []
                                            offset_4 = offset_3
                                            offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                            if _prefix or _children:
                                               raise Exception('bar')
                                            if offset_4 == -1:
                                                offset_3 = -1
                                                break
                                            offset_3 = offset_4
                                            indent_column_3.append(column_3)
                                        if offset_3 == -1:
                                            break

                                        #print('safe exit rep rule', offset_2, offset_3)
                                        break
                                    #print('exit rep rule', offset_2, offset_3)
                                    if offset_3 == -1:
                                        break
                                    if offset_2 == offset_3: break
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    count_2 += 1
                                if offset_2 == -1:
                                    break
                                value_2 = count_2

                                while True: # start lookahed
                                    children_3 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    count_2 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_2 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_2 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    _match = regex_regex_3.match(buf, offset_3)
                                    if _match:
                                        _end = _match.end()
                                        column_3 += (_end - offset_3)
                                        offset_3 = _end
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_1 += 1
                            break
                        if offset_1 == -1:
                            break
                        value_1 = count_1

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_block_element(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_0 = count_0

                break
            prefix_0.pop()
            if len(indent_column_0) > 1: indent_column_0.pop()
            if offset_0 == -1: break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_unordered_list(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start reject
                children_1 = []
                offset_1 = offset_0 + 0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                if offset_1 == -1: break


                break
            if offset_1 != -1:
                offset_0 = -1
                break

            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = 0
                while offset_0 < buf_eof and count_0 < 3:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            if count_0 + width > 3:
                                new_width = 3 - count_0
                                count_0 += new_width
                                column_0 += new_width
                                partial_tab_offset_0 = offset_0
                                partial_tab_width_0 = width - new_width
                                break
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                offset_1 = offset_0
                while True: # start backref
                    _match = regex_regex_18.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 == -1:
                    offset_0 = -1
                    break
                value_1 = buf[offset_0:offset_1]
                offset_0 = offset_1

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_0 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_0 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_0 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof and count_0 < 1:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                                count_0 +=1
                            elif codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_0 + width > 1:
                                        new_width = 1 - count_0
                                        count_0 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break
                        if count_0 < 1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_2 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_list_item(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_3, partial_tab_offset_1, partial_tab_width_1)
                            if offset_1 == -1: break


                            break
                        if offset_1 == -1:
                            break
                        value_2.name = 'list_item'
                        value_2.end = offset_1
                        value_2.end_column = column_1
                        value_2.value = None
                        children_2.append(value_2)


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_3 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break

                            break
                        if offset_1 == -1:
                            break
                        value_3.name = 'list_item'
                        value_3.end = offset_1
                        value_3.end_column = column_1
                        value_3.value = None
                        children_2.append(value_3)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                children_4 = []
                                value_5 = Node(None, offset_2, offset_2, column_2, column_2, children_4, None)
                                while True: # start capture
                                    count_1 = 0
                                    while True:
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_2, offset_3)
                                            if column_3 != 0:
                                                offset_3 = -1
                                                break
                                            # print('start')
                                            for indent, dedent in prefix_0:
                                                # print(indent, dedent)
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if _prefix or _children:
                                                   raise Exception('bar')
                                                if offset_4 == -1:
                                                    offset_3 = -1
                                                    break
                                                offset_3 = offset_4
                                                indent_column_3.append(column_3)
                                            if offset_3 == -1:
                                                break

                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_2 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            #print('safe exit rep rule', offset_2, offset_3)
                                            break
                                        #print('exit rep rule', offset_2, offset_3)
                                        if offset_3 == -1:
                                            break
                                        if offset_2 == offset_3: break
                                        if children_5 is not None and children_5 is not None:
                                            children_4.extend(children_5)
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        count_1 += 1
                                    if offset_2 == -1:
                                        break
                                    value_6 = count_1

                                    break
                                if offset_2 == -1:
                                    break
                                value_5.name = 'empty'
                                value_5.end = offset_2
                                value_5.end_column = column_2
                                value_5.value = None
                                children_3.append(value_5)

                                while True: # start lookahed
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if column_3 != 0:
                                        offset_3 = -1
                                        break
                                    # print('start')
                                    for indent, dedent in prefix_0:
                                        # print(indent, dedent)
                                        _children, _prefix = [], []
                                        offset_4 = offset_3
                                        offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                        if _prefix or _children:
                                           raise Exception('bar')
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break
                                        offset_3 = offset_4
                                        indent_column_3.append(column_3)
                                    if offset_3 == -1:
                                        break

                                    count_1 = 0
                                    while offset_3 < buf_eof and count_1 < 3:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                if count_1 + width > 3:
                                                    new_width = 3 - count_1
                                                    count_1 += new_width
                                                    column_3 += new_width
                                                    partial_tab_offset_3 = offset_3
                                                    partial_tab_width_3 = width - new_width
                                                    break
                                                count_1 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_1 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if buf[offset_3:offset_3+len(value_1)] == value_1:
                                        offset_3 += len(value_1)
                                        column_3 += len(value_1)
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break


                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                count_1 = 0
                                while offset_2 < buf_eof and count_1 < 3:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            if count_1 + width > 3:
                                                new_width = 3 - count_1
                                                count_1 += new_width
                                                column_2 += new_width
                                                partial_tab_offset_2 = offset_2
                                                partial_tab_width_2 = width - new_width
                                                break
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if buf[offset_2:offset_2+len(value_1)] == value_1:
                                    offset_2 += len(value_1)
                                    column_2 += len(value_1)
                                else:
                                    offset_2 = -1
                                    break

                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            count_1 = 0
                                            while offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                            width = partial_tab_width_4
                                                        else:
                                                            width  = (self.tabstop-(column_4%self.tabstop))
                                                        count_1 += width
                                                        column_4 += width
                                                        offset_4 += 1
                                                    else:
                                                        count_1 += 1
                                                        column_4 += 1
                                                        offset_4 += 1
                                                else:
                                                    break

                                            if offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in '\n':
                                                    offset_4 +=1
                                                    column_4 = 0
                                                    indent_column_4[:] = (0, )
                                                else:
                                                    offset_4 = -1
                                                    break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        count_1 = 0
                                        while offset_3 < buf_eof and count_1 < 1:
                                            codepoint = buf[offset_3]
                                            if codepoint in '\n':
                                                offset_3 +=1
                                                column_3 = 0
                                                indent_column_3[:] = (0, )
                                                count_1 +=1
                                            elif codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    if count_1 + width > 1:
                                                        new_width = 1 - count_1
                                                        count_1 += new_width
                                                        column_3 += new_width
                                                        partial_tab_offset_3 = offset_3
                                                        partial_tab_width_3 = width - new_width
                                                        break
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break
                                        if count_1 < 1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_7 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_list_item(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_5, partial_tab_offset_3, partial_tab_width_3)
                                            if offset_3 == -1: break


                                            break
                                        if offset_3 == -1:
                                            break
                                        value_7.name = 'list_item'
                                        value_7.end = offset_3
                                        value_7.end_column = column_3
                                        value_7.value = None
                                        children_4.append(value_7)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_8 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            count_1 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_1 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_1 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_8.name = 'list_item'
                                        value_8.end = offset_3
                                        value_8.end_column = column_3
                                        value_8.value = None
                                        children_4.append(value_8)

                                        if offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in '\n':
                                                offset_3 +=1
                                                column_3 = 0
                                                indent_column_3[:] = (0, )
                                            else:
                                                offset_3 = -1
                                                break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_4 = count_0

                break
            if offset_0 == -1:
                break
            value_0.name = 'unordered_list'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_ordered_list(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = 0
                while offset_0 < buf_eof and count_0 < 3:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            if count_0 + width > 3:
                                new_width = 3 - count_0
                                count_0 += new_width
                                column_0 += new_width
                                partial_tab_offset_0 = offset_0
                                partial_tab_width_0 = width - new_width
                                break
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    _match = regex_regex_19.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'ordered_list_start'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                offset_1 = offset_0
                while True: # start backref
                    _match = regex_regex_20.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 == -1:
                    offset_0 = -1
                    break
                value_2 = buf[offset_0:offset_1]
                offset_0 = offset_1

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_0 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_0 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_0 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof and count_0 < 1:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                                count_0 +=1
                            elif codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    if count_0 + width > 1:
                                        new_width = 1 - count_0
                                        count_0 += new_width
                                        column_1 += new_width
                                        partial_tab_offset_1 = offset_1
                                        partial_tab_width_1 = width - new_width
                                        break
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break
                        if count_0 < 1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_3 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_list_item(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_3, partial_tab_offset_1, partial_tab_width_1)
                            if offset_1 == -1: break


                            break
                        if offset_1 == -1:
                            break
                        value_3.name = 'list_item'
                        value_3.end = offset_1
                        value_3.end_column = column_1
                        value_3.value = None
                        children_2.append(value_3)


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'list_item'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                children_4 = []
                                value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_4, None)
                                while True: # start capture
                                    count_1 = 0
                                    while True:
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_2, offset_3)
                                            if column_3 != 0:
                                                offset_3 = -1
                                                break
                                            # print('start')
                                            for indent, dedent in prefix_0:
                                                # print(indent, dedent)
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if _prefix or _children:
                                                   raise Exception('bar')
                                                if offset_4 == -1:
                                                    offset_3 = -1
                                                    break
                                                offset_3 = offset_4
                                                indent_column_3.append(column_3)
                                            if offset_3 == -1:
                                                break

                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_2 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            #print('safe exit rep rule', offset_2, offset_3)
                                            break
                                        #print('exit rep rule', offset_2, offset_3)
                                        if offset_3 == -1:
                                            break
                                        if offset_2 == offset_3: break
                                        if children_5 is not None and children_5 is not None:
                                            children_4.extend(children_5)
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        count_1 += 1
                                    if offset_2 == -1:
                                        break
                                    value_7 = count_1

                                    break
                                if offset_2 == -1:
                                    break
                                value_6.name = 'empty'
                                value_6.end = offset_2
                                value_6.end_column = column_2
                                value_6.value = None
                                children_3.append(value_6)

                                while True: # start lookahed
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if column_3 != 0:
                                        offset_3 = -1
                                        break
                                    # print('start')
                                    for indent, dedent in prefix_0:
                                        # print(indent, dedent)
                                        _children, _prefix = [], []
                                        offset_4 = offset_3
                                        offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                        if _prefix or _children:
                                           raise Exception('bar')
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break
                                        offset_3 = offset_4
                                        indent_column_3.append(column_3)
                                    if offset_3 == -1:
                                        break

                                    count_1 = 0
                                    while offset_3 < buf_eof and count_1 < 3:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                if count_1 + width > 3:
                                                    new_width = 3 - count_1
                                                    count_1 += new_width
                                                    column_3 += new_width
                                                    partial_tab_offset_3 = offset_3
                                                    partial_tab_width_3 = width - new_width
                                                    break
                                                count_1 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_1 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    _match = regex_regex_19.match(buf, offset_3)
                                    if _match:
                                        _end = _match.end()
                                        column_3 += (_end - offset_3)
                                        offset_3 = _end
                                    else:
                                        offset_3 = -1
                                        break

                                    if buf[offset_3:offset_3+len(value_2)] == value_2:
                                        offset_3 += len(value_2)
                                        column_3 += len(value_2)
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof and count_1 < 3:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            if count_1 + width > 3:
                                                new_width = 3 - count_1
                                                count_1 += new_width
                                                column_2 += new_width
                                                partial_tab_offset_2 = offset_2
                                                partial_tab_width_2 = width - new_width
                                                break
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                _match = regex_regex_19.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                if buf[offset_2:offset_2+len(value_2)] == value_2:
                                    offset_2 += len(value_2)
                                    column_2 += len(value_2)
                                else:
                                    offset_2 = -1
                                    break

                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            count_1 = 0
                                            while offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                            width = partial_tab_width_4
                                                        else:
                                                            width  = (self.tabstop-(column_4%self.tabstop))
                                                        count_1 += width
                                                        column_4 += width
                                                        offset_4 += 1
                                                    else:
                                                        count_1 += 1
                                                        column_4 += 1
                                                        offset_4 += 1
                                                else:
                                                    break

                                            if offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in '\n':
                                                    offset_4 +=1
                                                    column_4 = 0
                                                    indent_column_4[:] = (0, )
                                                else:
                                                    offset_4 = -1
                                                    break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        count_1 = 0
                                        while offset_3 < buf_eof and count_1 < 1:
                                            codepoint = buf[offset_3]
                                            if codepoint in '\n':
                                                offset_3 +=1
                                                column_3 = 0
                                                indent_column_3[:] = (0, )
                                                count_1 +=1
                                            elif codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    if count_1 + width > 1:
                                                        new_width = 1 - count_1
                                                        count_1 += new_width
                                                        column_3 += new_width
                                                        partial_tab_offset_3 = offset_3
                                                        partial_tab_width_3 = width - new_width
                                                        break
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break
                                        if count_1 < 1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_8 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_list_item(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_5, partial_tab_offset_3, partial_tab_width_3)
                                            if offset_3 == -1: break


                                            break
                                        if offset_3 == -1:
                                            break
                                        value_8.name = 'list_item'
                                        value_8.end = offset_3
                                        value_8.end_column = column_3
                                        value_8.value = None
                                        children_4.append(value_8)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_9 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            count_1 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_1 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_1 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_9.name = 'list_item'
                                        value_9.end = offset_3
                                        value_9.end_column = column_3
                                        value_9.value = None
                                        children_4.append(value_9)

                                        if offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in '\n':
                                                offset_3 +=1
                                                column_3 = 0
                                                indent_column_3[:] = (0, )
                                            else:
                                                offset_3 = -1
                                                break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_5 = count_0

                break
            if offset_0 == -1:
                break
            value_0.name = 'ordered_list'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_link_url_spaces(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '<':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                        if offset_3 == -1: break



                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '\\':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            _match = regex_regex_6.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_4 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break

                                        children_5 = []
                                        value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_6.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_2.name = 'raw'
                                        value_2.end = offset_3
                                        value_2.end_column = column_3
                                        value_2.value = None
                                        children_4.append(value_2)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_21.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_3.name = 'raw'
                                        value_3.end = offset_3
                                        value_3.end_column = column_3
                                        value_3.value = None
                                        children_4.append(value_3)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_1 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'link_url'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)

                    if buf[offset_1:offset_1+1] == '>':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if buf[offset_2:offset_2+1] == '<':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_balanced_list_url_spaces(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        break
                    if offset_1 == -1:
                        break
                    value_4.name = 'link_url'
                    value_4.end = offset_1
                    value_4.end_column = column_1
                    value_4.value = None
                    children_1.append(value_4)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_balanced_list_url_spaces(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while True:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break



                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    if buf[offset_3:offset_3+1] == '\\':
                                        offset_3 += 1
                                        column_3 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    while True: # start lookahed
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        _match = regex_regex_6.match(buf, offset_4)
                                        if _match:
                                            _end = _match.end()
                                            column_4 += (_end - offset_4)
                                            offset_4 = _end
                                        else:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 == -1:
                                        offset_3 = -1
                                        break

                                    children_4 = []
                                    value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_6.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_2.name = 'raw'
                                    value_2.end = offset_3
                                    value_2.end_column = column_3
                                    value_2.value = None
                                    children_3.append(value_2)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_22.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_3.name = 'raw'
                                    value_3.end = offset_3
                                    value_3.end_column = column_3
                                    value_3.value = None
                                    children_3.append(value_3)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_4 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_2 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_2 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_2 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in '\n':
                                                    offset_4 +=1
                                                    column_4 = 0
                                                    indent_column_4[:] = (0, )
                                                else:
                                                    offset_4 = -1
                                                    break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_4.name = 'raw'
                                    value_4.end = offset_3
                                    value_4.end_column = column_3
                                    value_4.value = None
                                    children_3.append(value_4)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_1 = count_1

                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == '(':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_6.name = 'raw'
                            value_6.end = offset_2
                            value_6.end_column = column_2
                            value_6.value = None
                            children_2.append(value_6)

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_balanced_list_url_spaces(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            children_3 = []
                            value_7 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == ')':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_7.name = 'raw'
                            value_7.end = offset_2
                            value_7.end_column = column_2
                            value_7.value = None
                            children_2.append(value_7)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_5 = count_1

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
            if offset_0 == -1:
                break
            value_0 = count_0

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_link_definition(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = 0
                while offset_0 < buf_eof and count_0 < 3:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            if count_0 + width > 3:
                                new_width = 3 - count_0
                                count_0 += new_width
                                column_0 += new_width
                                partial_tab_offset_0 = offset_0
                                partial_tab_width_0 = width - new_width
                                break
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                if buf[offset_0:offset_0+1] == '[':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                while True: # start reject
                    children_2 = []
                    offset_1 = offset_0 + 0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in '\n':
                            offset_1 +=1
                            column_1 = 0
                            indent_column_1[:] = (0, )
                            count_0 +=1
                        elif codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    if buf[offset_1:offset_1+1] == ']':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 != -1:
                    offset_0 = -1
                    break

                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start choice
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_4, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_2 == -1: break



                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    if buf[offset_2:offset_2+1] == '\\':
                                        offset_2 += 1
                                        column_2 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    while True: # start lookahed
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        _match = regex_regex_6.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        offset_2 = -1
                                        break

                                    children_5 = []
                                    value_3 = Node(None, offset_2, offset_2, column_2, column_2, children_5, None)
                                    while True: # start capture
                                        _match = regex_regex_6.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_3.name = 'raw'
                                    value_3.end = offset_2
                                    value_3.end_column = column_2
                                    value_3.value = None
                                    children_4.append(value_3)


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True: # case
                                    children_5 = []
                                    value_4 = Node(None, offset_2, offset_2, column_2, column_2, children_5, None)
                                    while True: # start capture
                                        _match = regex_regex_23.match(buf, offset_2)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_2)
                                            offset_2 = _end
                                        else:
                                            offset_2 = -1
                                            break

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_4.name = 'raw'
                                    value_4.end = offset_2
                                    value_4.end_column = column_2
                                    value_4.value = None
                                    children_4.append(value_4)


                                    break
                                if offset_2 != -1:
                                    offset_1 = offset_2
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    break
                                # end case
                                offset_1 = -1 # no more choices
                                break # end choice
                            if offset_1 == -1:
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if count_0 < 1:
                    #    print('min exit', offset_0)
                        offset_0 = -1
                        break
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'link_name'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                if buf[offset_0:offset_0+1] == ']':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                if buf[offset_0:offset_0+1] == ':':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                if dedent is None:
                                    offset_1 = -1
                                    break
                                _children, _prefix = [], []
                                offset_2 = offset_1
                                offset_2, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_2, column_1, list(indent_column_1), _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                                if offset_2 != -1:
                                    offset_1 = -1
                                    break
                                else:
                                    offset_2 = offset_1
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_link_url_spaces(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break



                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_link_url(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break



                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                count_0 = 0
                while count_0 < 1:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                if column_2 != 0:
                                    offset_2 = -1
                                    break
                                # print('start')
                                for indent, dedent in prefix_0:
                                    # print(indent, dedent)
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if _prefix or _children:
                                       raise Exception('bar')
                                    if offset_3 == -1:
                                        if dedent is None:
                                            offset_2 = -1
                                            break
                                        _children, _prefix = [], []
                                        offset_3 = offset_2
                                        offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                        if offset_3 != -1:
                                            offset_2 = -1
                                            break
                                        else:
                                            offset_3 = offset_2
                                    offset_2 = offset_3
                                    indent_column_2.append(column_2)
                                if offset_2 == -1:
                                    break

                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_3 = 0
                                            indent_column_3[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break
                                if count_1 < 1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_link_title(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break

                        count_1 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                count_2 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_2 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_2 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                if column_2 != 0:
                                    offset_2 = -1
                                    break
                                # print('start')
                                for indent, dedent in prefix_0:
                                    # print(indent, dedent)
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if _prefix or _children:
                                       raise Exception('bar')
                                    if offset_3 == -1:
                                        if dedent is None:
                                            offset_2 = -1
                                            break
                                        _children, _prefix = [], []
                                        offset_3 = offset_2
                                        offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                        if offset_3 != -1:
                                            offset_2 = -1
                                            break
                                        else:
                                            offset_3 = offset_2
                                    offset_2 = offset_3
                                    indent_column_2.append(column_2)
                                if offset_2 == -1:
                                    break

                                count_2 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_2 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_2 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_3 = 0
                                            indent_column_3[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_link_title(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_3, partial_tab_offset_2, partial_tab_width_2)
                                if offset_2 == -1: break


                                while True: # start lookahed
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    count_2 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_2 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_2 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_3 = 0
                                            indent_column_3[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_1 += 1
                        if offset_1 == -1:
                            break
                        value_6 = count_1

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                    break
                if offset_0 == -1:
                    break
                value_5 = count_0

                break
            if offset_0 == -1:
                break
            value_0.name = 'link_def'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            count_0 = 0
            while offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            if offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in '\n':
                    offset_0 +=1
                    column_0 = 0
                    indent_column_0[:] = (0, )
                else:
                    offset_0 = -1
                    break
            else:
                offset_0 = -1
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_para_interrupt(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_thematic_break(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_atx_heading(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_fenced_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_blockquote(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_start_html_block(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_1 += new_width
                                    partial_tab_offset_1 = offset_1
                                    partial_tab_width_1 = width - new_width
                                    break
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    _match = regex_regex_24.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break
                    if count_0 < 1:
                        offset_1 = -1
                        break

                    while True: # start reject
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        count_0 = 0
                        while offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                        width = partial_tab_width_2
                                    else:
                                        width  = (self.tabstop-(column_2%self.tabstop))
                                    count_0 += width
                                    column_2 += width
                                    offset_2 += 1
                                else:
                                    count_0 += 1
                                    column_2 += 1
                                    offset_2 += 1
                            else:
                                break

                        if offset_2 < buf_eof:
                            codepoint = buf[offset_2]
                            if codepoint in '\n':
                                offset_2 +=1
                                column_2 = 0
                                indent_column_2[:] = (0, )
                            else:
                                offset_2 = -1
                                break

                        break
                    if offset_2 != -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_linebreak(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start choice
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            count_0 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_0 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_0 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break
                            if count_0 < 2:
                                offset_2 = -1
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            _match = regex_regex_25.match(buf, offset_2)
                            if _match:
                                _end = _match.end()
                                column_2 += (_end - offset_2)
                                offset_2 = _end
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'hardbreak'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break

                    children_2 = []
                    value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_1.name = 'softbreak'
                    value_1.end = offset_1
                    value_1.end_column = column_1
                    value_1.value = None
                    children_1.append(value_1)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            if column_0 != 0:
                offset_0 = -1
                break
            # print('start')
            for indent, dedent in prefix_0:
                # print(indent, dedent)
                _children, _prefix = [], []
                offset_1 = offset_0
                offset_1, column_0, partial_tab_offset_0, partial_tab_width_0 = indent(buf, buf_start, buf_eof, offset_1, column_0, indent_column_0, _prefix, _children, partial_tab_offset_0, partial_tab_width_0)
                if _prefix or _children:
                   raise Exception('bar')
                if offset_1 == -1:
                    if dedent is None:
                        offset_0 = -1
                        break
                    _children, _prefix = [], []
                    offset_1 = offset_0
                    offset_1, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_1, column_0, list(indent_column_0), _prefix, _children, partial_tab_offset_0, partial_tab_width_0)
                    if offset_1 != -1:
                        offset_0 = -1
                        break
                    else:
                        offset_1 = offset_0
                offset_0 = offset_1
                indent_column_0.append(column_0)
            if offset_0 == -1:
                break

            while True: # start reject
                children_1 = []
                offset_1 = offset_0 + 0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_para_interrupt(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                if offset_1 == -1: break


                break
            if offset_1 != -1:
                offset_0 = -1
                break

            count_0 = 0
            while offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            while True: # start reject
                children_1 = []
                offset_1 = offset_0 + 0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                if offset_1 < buf_eof:
                    codepoint = buf[offset_1]
                    if codepoint in '\n':
                        offset_1 +=1
                        column_1 = 0
                        indent_column_1[:] = (0, )
                    else:
                        offset_1 = -1
                        break
                else:
                    offset_1 = -1
                    break

                break
            if offset_1 != -1:
                offset_0 = -1
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_setext_heading_line(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            _match = regex_regex_26.match(buf, offset_0)
            if _match:
                _end = _match.end()
                column_0 += (_end - offset_0)
                offset_0 = _end
            else:
                offset_0 = -1
                break

            count_0 = 0
            while offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            if offset_0 < buf_eof:
                codepoint = buf[offset_0]
                if codepoint in '\n':
                    offset_0 +=1
                    column_0 = 0
                    indent_column_0[:] = (0, )
                else:
                    offset_0 = -1
                    break



            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_no_setext_heading_line(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start reject
                children_1 = []
                offset_1 = offset_0 + 0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_setext_heading_line(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                if offset_1 == -1: break


                break
            if offset_1 != -1:
                offset_0 = -1
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_para(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            value_0 = 'para'
            offset_1 = offset_0
            while True: # start backref
                value_1 = 0
                offset_2 = offset_1
                while True: # start backref
                    children_1 = []
                    value_2 = Node(None, offset_2, offset_2, column_0, column_0, children_1, None)
                    while True: # start capture
                        prefix_0.append((self.parse_no_setext_heading_line, None))
                        indent_column_0.append(column_0)
                        while True:
                            offset_2, column_0, partial_tab_offset_0, partial_tab_width_0 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_0, indent_column_0, prefix_0, children_1, partial_tab_offset_0, partial_tab_width_0)
                            if offset_2 == -1: break


                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_1 = column_0
                                indent_column_1 = list(indent_column_0)
                                partial_tab_offset_1 = partial_tab_offset_0
                                partial_tab_width_1 = partial_tab_width_0
                                children_2 = [] if children_1 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_3 = [] if children_2 is not None else None
                                        while True: # case
                                            offset_4, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_linebreak(buf, buf_start, buf_eof, offset_4, column_2, indent_column_2, prefix_0, children_3, partial_tab_offset_2, partial_tab_width_2)
                                            if offset_4 == -1: break



                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_3 is not None and children_3 is not None:
                                                children_2.extend(children_3)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_3 = [] if children_2 is not None else None
                                        while True: # case
                                            children_4 = []
                                            value_4 = Node(None, offset_4, offset_4, column_2, column_2, children_4, None)
                                            while True: # start capture
                                                count_1 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                                width = partial_tab_width_2
                                                            else:
                                                                width  = (self.tabstop-(column_2%self.tabstop))
                                                            count_1 += width
                                                            column_2 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_1 += 1
                                                            column_2 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_4.name = 'whitespace'
                                            value_4.end = offset_4
                                            value_4.end_column = column_2
                                            value_4.value = None
                                            children_3.append(value_4)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_3 is not None and children_3 is not None:
                                                children_2.extend(children_3)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    offset_3, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_element(buf, buf_start, buf_eof, offset_3, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                                    if offset_3 == -1: break


                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_2 is not None and children_2 is not None:
                                    children_1.extend(children_2)
                                offset_2 = offset_3
                                column_0 = column_1
                                indent_column_0 = indent_column_1
                                partial_tab_offset_0 = partial_tab_offset_1
                                partial_tab_width_0 = partial_tab_width_1
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_3 = count_0

                            break
                        prefix_0.pop()
                        if len(indent_column_0) > 1: indent_column_0.pop()
                        if offset_2 == -1: break

                        while True: # start choice
                            offset_3 = offset_2
                            column_1 = column_0
                            indent_column_1 = list(indent_column_0)
                            partial_tab_offset_1 = partial_tab_offset_0
                            partial_tab_width_1 = partial_tab_width_0
                            children_2 = [] if children_1 is not None else None
                            while True: # case
                                count_0 = 0
                                while count_0 < 1:
                                    offset_4 = offset_3
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_3 = [] if children_2 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_3, offset_4)
                                        if buf[offset_4:offset_4+1] == '\\':
                                            offset_4 += 1
                                            column_2 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        children_3.append(Node('value', offset_4, offset_4, column_2, column_2, (), '\\'))

                                        #print('safe exit rep rule', offset_3, offset_4)
                                        break
                                    #print('exit rep rule', offset_3, offset_4)
                                    if offset_4 == -1:
                                        break
                                    if offset_3 == offset_4: break
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    offset_3 = offset_4
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    count_0 += 1
                                    break
                                if offset_3 == -1:
                                    break
                                value_5 = count_0

                                count_0 = 0
                                while offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                width = partial_tab_width_1
                                            else:
                                                width  = (self.tabstop-(column_1%self.tabstop))
                                            count_0 += width
                                            column_1 += width
                                            offset_3 += 1
                                        else:
                                            count_0 += 1
                                            column_1 += 1
                                            offset_3 += 1
                                    else:
                                        break

                                if offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in '\n':
                                        offset_3 +=1
                                        column_1 = 0
                                        indent_column_1[:] = (0, )
                                    else:
                                        offset_3 = -1
                                        break
                                else:
                                    offset_3 = -1
                                    break

                                if column_1 != 0:
                                    offset_3 = -1
                                    break
                                # print('start')
                                for indent, dedent in prefix_0:
                                    # print(indent, dedent)
                                    _children, _prefix = [], []
                                    offset_4 = offset_3
                                    offset_4, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_4, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                                    if _prefix or _children:
                                       raise Exception('bar')
                                    if offset_4 == -1:
                                        offset_3 = -1
                                        break
                                    offset_3 = offset_4
                                    indent_column_1.append(column_1)
                                if offset_3 == -1:
                                    break

                                count_0 = 0
                                while offset_3 < buf_eof and count_0 < 3:
                                    codepoint = buf[offset_3]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                width = partial_tab_width_1
                                            else:
                                                width  = (self.tabstop-(column_1%self.tabstop))
                                            if count_0 + width > 3:
                                                new_width = 3 - count_0
                                                count_0 += new_width
                                                column_1 += new_width
                                                partial_tab_offset_1 = offset_3
                                                partial_tab_width_1 = width - new_width
                                                break
                                            count_0 += width
                                            column_1 += width
                                            offset_3 += 1
                                        else:
                                            count_0 += 1
                                            column_1 += 1
                                            offset_3 += 1
                                    else:
                                        break

                                while True: # start choice
                                    offset_4 = offset_3
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_3 = [] if children_2 is not None else None
                                    while True: # case
                                        _match = regex_regex_27.match(buf, offset_4)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_4)
                                            offset_4 = _end
                                        else:
                                            offset_4 = -1
                                            break

                                        value_1 = 1


                                        break
                                    if offset_4 != -1:
                                        offset_3 = offset_4
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_3 is not None and children_3 is not None:
                                            children_2.extend(children_3)
                                        break
                                    # end case
                                    offset_4 = offset_3
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_3 = [] if children_2 is not None else None
                                    while True: # case
                                        _match = regex_regex_28.match(buf, offset_4)
                                        if _match:
                                            _end = _match.end()
                                            column_2 += (_end - offset_4)
                                            offset_4 = _end
                                        else:
                                            offset_4 = -1
                                            break

                                        value_1 = 2


                                        break
                                    if offset_4 != -1:
                                        offset_3 = offset_4
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_3 is not None and children_3 is not None:
                                            children_2.extend(children_3)
                                        break
                                    # end case
                                    offset_3 = -1 # no more choices
                                    break # end choice
                                if offset_3 == -1:
                                    break

                                count_0 = 0
                                while offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                width = partial_tab_width_1
                                            else:
                                                width  = (self.tabstop-(column_1%self.tabstop))
                                            count_0 += width
                                            column_1 += width
                                            offset_3 += 1
                                        else:
                                            count_0 += 1
                                            column_1 += 1
                                            offset_3 += 1
                                    else:
                                        break

                                if offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in '\n':
                                        offset_3 +=1
                                        column_1 = 0
                                        indent_column_1[:] = (0, )
                                    else:
                                        offset_3 = -1
                                        break


                                value_0 = 'setext'


                                break
                            if offset_3 != -1:
                                offset_2 = offset_3
                                column_0 = column_1
                                indent_column_0 = indent_column_1
                                partial_tab_offset_0 = partial_tab_offset_1
                                partial_tab_width_0 = partial_tab_width_1
                                if children_2 is not None and children_2 is not None:
                                    children_1.extend(children_2)
                                break
                            # end case
                            offset_3 = offset_2
                            column_1 = column_0
                            indent_column_1 = list(indent_column_0)
                            partial_tab_offset_1 = partial_tab_offset_0
                            partial_tab_width_1 = partial_tab_width_0
                            children_2 = [] if children_1 is not None else None
                            while True: # case
                                count_0 = 0
                                while True:
                                    offset_4 = offset_3
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_3 = [] if children_2 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_3, offset_4)
                                        while True: # start choice
                                            offset_5 = offset_4
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_4 = [] if children_3 is not None else None
                                            while True: # case
                                                offset_5, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_linebreak(buf, buf_start, buf_eof, offset_5, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                                if offset_5 == -1: break



                                                break
                                            if offset_5 != -1:
                                                offset_4 = offset_5
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_4 is not None and children_4 is not None:
                                                    children_3.extend(children_4)
                                                break
                                            # end case
                                            offset_5 = offset_4
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_4 = [] if children_3 is not None else None
                                            while True: # case
                                                children_5 = []
                                                value_7 = Node(None, offset_5, offset_5, column_3, column_3, children_5, None)
                                                while True: # start capture
                                                    count_1 = 0
                                                    while offset_5 < buf_eof:
                                                        codepoint = buf[offset_5]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_5 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                    width = partial_tab_width_3
                                                                else:
                                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                                count_1 += width
                                                                column_3 += width
                                                                offset_5 += 1
                                                            else:
                                                                count_1 += 1
                                                                column_3 += 1
                                                                offset_5 += 1
                                                        else:
                                                            break

                                                    break
                                                if offset_5 == -1:
                                                    break
                                                value_7.name = 'whitespace'
                                                value_7.end = offset_5
                                                value_7.end_column = column_3
                                                value_7.value = None
                                                children_4.append(value_7)


                                                break
                                            if offset_5 != -1:
                                                offset_4 = offset_5
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_4 is not None and children_4 is not None:
                                                    children_3.extend(children_4)
                                                break
                                            # end case
                                            offset_4 = -1 # no more choices
                                            break # end choice
                                        if offset_4 == -1:
                                            break

                                        offset_4, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_4, column_2, indent_column_2, prefix_0, children_3, partial_tab_offset_2, partial_tab_width_2)
                                        if offset_4 == -1: break


                                        #print('safe exit rep rule', offset_3, offset_4)
                                        break
                                    #print('exit rep rule', offset_3, offset_4)
                                    if offset_4 == -1:
                                        break
                                    if offset_3 == offset_4: break
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    offset_3 = offset_4
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    count_0 += 1
                                if offset_3 == -1:
                                    break
                                value_6 = count_0

                                count_0 = 0
                                while offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                width = partial_tab_width_1
                                            else:
                                                width  = (self.tabstop-(column_1%self.tabstop))
                                            count_0 += width
                                            column_1 += width
                                            offset_3 += 1
                                        else:
                                            count_0 += 1
                                            column_1 += 1
                                            offset_3 += 1
                                    else:
                                        break

                                count_0 = 0
                                while count_0 < 1:
                                    offset_4 = offset_3
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_3 = [] if children_2 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_3, offset_4)
                                        if buf[offset_4:offset_4+1] == '\\':
                                            offset_4 += 1
                                            column_2 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        children_3.append(Node('value', offset_4, offset_4, column_2, column_2, (), '\\'))

                                        #print('safe exit rep rule', offset_3, offset_4)
                                        break
                                    #print('exit rep rule', offset_3, offset_4)
                                    if offset_4 == -1:
                                        break
                                    if offset_3 == offset_4: break
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    offset_3 = offset_4
                                    column_1 = column_2
                                    indent_column_1 = indent_column_2
                                    partial_tab_offset_1 = partial_tab_offset_2
                                    partial_tab_width_1 = partial_tab_width_2
                                    count_0 += 1
                                    break
                                if offset_3 == -1:
                                    break
                                value_8 = count_0

                                if offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in '\n':
                                        offset_3 +=1
                                        column_1 = 0
                                        indent_column_1[:] = (0, )
                                    else:
                                        offset_3 = -1
                                        break


                                break
                            if offset_3 != -1:
                                offset_2 = offset_3
                                column_0 = column_1
                                indent_column_0 = indent_column_1
                                partial_tab_offset_0 = partial_tab_offset_1
                                partial_tab_width_0 = partial_tab_width_1
                                if children_2 is not None and children_2 is not None:
                                    children_1.extend(children_2)
                                break
                            # end case
                            offset_2 = -1 # no more choices
                            break # end choice
                        if offset_2 == -1:
                            break

                        break
                    if offset_2 == -1:
                        break
                    value_2.name = value_0
                    value_2.end = offset_2
                    value_2.end_column = column_0
                    value_2.value = value_1
                    children_0.append(value_2)

                    break
                if offset_2 == -1:
                    offset_1 = -1
                    break
                offset_1 = offset_2

                break
            if offset_1 == -1:
                offset_0 = -1
                break
            offset_0 = offset_1


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_inline_element(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_image(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_link(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_html(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '<':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_11.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_29.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        if buf[offset_1:offset_1+1] == ':':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_30.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'auto_link'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)

                    if buf[offset_1:offset_1+1] == '>':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '<':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_31.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        if buf[offset_1:offset_1+1] == '@':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_32.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_33.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_34.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_1.name = 'mailto_auto_link'
                    value_1.end = offset_1
                    value_1.end_column = column_1
                    value_1.value = None
                    children_1.append(value_1)

                    if buf[offset_1:offset_1+1] == '>':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_code_span(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_dual_flank(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_right_flank(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_left_flank(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '&':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    while True: # start choice
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            if buf[offset_2:offset_2+1] == '#':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            children_3 = []
                            value_2 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_7.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_2.name = 'html_entity'
                            value_2.end = offset_2
                            value_2.end_column = column_2
                            value_2.value = 'decimal'
                            children_2.append(value_2)

                            if buf[offset_2:offset_2+1] == ';':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            if buf[offset_2:offset_2+1] == '#':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            _match = regex_regex_8.match(buf, offset_2)
                            if _match:
                                _end = _match.end()
                                column_2 += (_end - offset_2)
                                offset_2 = _end
                            else:
                                offset_2 = -1
                                break

                            children_3 = []
                            value_3 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_9.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_10.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_3.name = 'html_entity'
                            value_3.end = offset_2
                            value_3.end_column = column_2
                            value_3.value = 'hex'
                            children_2.append(value_3)

                            if buf[offset_2:offset_2+1] == ';':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            children_3 = []
                            value_4 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_11.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_12.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_4.name = 'html_entity'
                            value_4.end = offset_2
                            value_4.end_column = column_2
                            value_4.value = 'named'
                            children_2.append(value_4)

                            if buf[offset_2:offset_2+1] == ';':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break



                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    while True: # start choice
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            if buf[offset_2:offset_2+1] == '\\':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            children_3 = []
                            value_5 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_6.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_5.name = 'text'
                            value_5.end = offset_2
                            value_5.end_column = column_2
                            value_5.value = None
                            children_2.append(value_5)


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            children_3 = []
                            value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == '\\':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_3 = 0
                                            indent_column_3[:] = (0, )
                                        else:
                                            offset_3 = -1
                                            break
                                    else:
                                        offset_3 = -1
                                        break

                                    count_0 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                    width = partial_tab_width_3
                                                else:
                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                count_0 += width
                                                column_3 += width
                                                offset_3 += 1
                                            else:
                                                count_0 += 1
                                                column_3 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    _match = regex_regex_3.match(buf, offset_3)
                                    if _match:
                                        _end = _match.end()
                                        column_3 += (_end - offset_3)
                                        offset_3 = _end
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_6.name = 'text'
                            value_6.end = offset_2
                            value_6.end_column = column_2
                            value_6.value = None
                            children_2.append(value_6)


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_35.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_7.name = 'text'
                    value_7.end = offset_1
                    value_7.end_column = column_1
                    value_7.value = None
                    children_1.append(value_7)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_36.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_8.name = 'text'
                    value_8.end = offset_1
                    value_8.end_column = column_1
                    value_8.value = None
                    children_1.append(value_8)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_9 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_37.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        _match = regex_regex_38.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + -1
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if offset_4 == buf_eof:
                                                offset_4 = -1
                                                break

                                            codepoint = ord(buf[offset_4])

                                            if unicodedata.category(chr(codepoint)).startswith('P'):
                                                offset_4 += 1
                                                column_4 += 1
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            while True: # start reject
                                                children_6 = []
                                                offset_5 = offset_4 + 0
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                offset_5, column_5, partial_tab_offset_5, partial_tab_width_5 = self.parse_left_flank(buf, buf_start, buf_eof, offset_5, column_5, indent_column_5, prefix_0, children_6, partial_tab_offset_5, partial_tab_width_5)
                                                if offset_5 == -1: break


                                                break
                                            if offset_5 != -1:
                                                offset_4 = -1
                                                break

                                            offset_4, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_right_flank(buf, buf_start, buf_eof, offset_4, column_4, indent_column_4, prefix_0, children_5, partial_tab_offset_4, partial_tab_width_4)
                                            if offset_4 == -1: break


                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        _match = regex_regex_35.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_10 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_9.name = 'text'
                    value_9.end = offset_1
                    value_9.end_column = column_1
                    value_9.value = None
                    children_1.append(value_9)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_image(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = buf_eof
                count_1 = buf_eof
                children_2 = [] if children_1 is not None else None
                while True: # start parallel
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    while True: # case
                        children_3 = []
                        value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            value_2 = 'reference'
                            offset_2 = offset_1
                            while True: # start backref
                                children_4 = []
                                value_3 = Node(None, offset_2, offset_2, column_1, column_1, children_4, None)
                                while True: # start capture
                                    if buf[offset_2:offset_2+1] == '!':
                                        offset_2 += 1
                                        column_1 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    if buf[offset_2:offset_2+1] == '[':
                                        offset_2 += 1
                                        column_1 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        count_2 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in '\n':
                                                offset_3 +=1
                                                column_2 = 0
                                                indent_column_2[:] = (0, )
                                                count_2 +=1
                                            elif codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                        width = partial_tab_width_2
                                                    else:
                                                        width  = (self.tabstop-(column_2%self.tabstop))
                                                    count_2 += width
                                                    column_2 += width
                                                    offset_3 += 1
                                                else:
                                                    count_2 += 1
                                                    column_2 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        if buf[offset_3:offset_3+1] == ']':
                                            offset_3 += 1
                                            column_2 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start reject
                                            children_6 = []
                                            offset_4 = offset_3 + 0
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            if buf[offset_4:offset_4+1] == '(':
                                                offset_4 += 1
                                                column_3 += 1
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    children_5 = []
                                    value_4 = Node(None, offset_2, offset_2, column_1, column_1, children_5, None)
                                    while True: # start capture
                                        offset_3 = offset_2
                                        while True: # start backref
                                            count_2 = 0
                                            while count_2 < 1:
                                                offset_4 = offset_3
                                                column_2 = column_1
                                                indent_column_2 = list(indent_column_1)
                                                partial_tab_offset_2 = partial_tab_offset_1
                                                partial_tab_width_2 = partial_tab_width_1
                                                children_6 = [] if children_5 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_3, offset_4)
                                                    while True: # start reject
                                                        children_7 = []
                                                        offset_5 = offset_4 + 0
                                                        column_3 = column_2
                                                        indent_column_3 = list(indent_column_2)
                                                        partial_tab_offset_3 = partial_tab_offset_2
                                                        partial_tab_width_3 = partial_tab_width_2
                                                        if buf[offset_5:offset_5+1] == ']':
                                                            offset_5 += 1
                                                            column_3 += 1
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 != -1:
                                                        offset_4 = -1
                                                        break

                                                    offset_4, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_4, column_2, indent_column_2, prefix_0, children_6, partial_tab_offset_2, partial_tab_width_2)
                                                    if offset_4 == -1: break


                                                    count_3 = 0
                                                    while True:
                                                        offset_5 = offset_4
                                                        column_3 = column_2
                                                        indent_column_3 = list(indent_column_2)
                                                        partial_tab_offset_3 = partial_tab_offset_2
                                                        partial_tab_width_3 = partial_tab_width_2
                                                        children_7 = [] if children_6 is not None else None
                                                        while True:
                                                            #print('entry rep rule', offset_4, offset_5)
                                                            while True: # start choice
                                                                offset_6 = offset_5
                                                                column_4 = column_3
                                                                indent_column_4 = list(indent_column_3)
                                                                partial_tab_offset_4 = partial_tab_offset_3
                                                                partial_tab_width_4 = partial_tab_width_3
                                                                children_8 = [] if children_7 is not None else None
                                                                while True: # case
                                                                    offset_6, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_linebreak(buf, buf_start, buf_eof, offset_6, column_4, indent_column_4, prefix_0, children_8, partial_tab_offset_4, partial_tab_width_4)
                                                                    if offset_6 == -1: break



                                                                    break
                                                                if offset_6 != -1:
                                                                    offset_5 = offset_6
                                                                    column_3 = column_4
                                                                    indent_column_3 = indent_column_4
                                                                    partial_tab_offset_3 = partial_tab_offset_4
                                                                    partial_tab_width_3 = partial_tab_width_4
                                                                    if children_8 is not None and children_8 is not None:
                                                                        children_7.extend(children_8)
                                                                    break
                                                                # end case
                                                                offset_6 = offset_5
                                                                column_4 = column_3
                                                                indent_column_4 = list(indent_column_3)
                                                                partial_tab_offset_4 = partial_tab_offset_3
                                                                partial_tab_width_4 = partial_tab_width_3
                                                                children_8 = [] if children_7 is not None else None
                                                                while True: # case
                                                                    children_9 = []
                                                                    value_8 = Node(None, offset_6, offset_6, column_4, column_4, children_9, None)
                                                                    while True: # start capture
                                                                        count_4 = 0
                                                                        while offset_6 < buf_eof:
                                                                            codepoint = buf[offset_6]
                                                                            if codepoint in ' \t':
                                                                                if codepoint == '\t':
                                                                                    if offset_6 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                                        width = partial_tab_width_4
                                                                                    else:
                                                                                        width  = (self.tabstop-(column_4%self.tabstop))
                                                                                    count_4 += width
                                                                                    column_4 += width
                                                                                    offset_6 += 1
                                                                                else:
                                                                                    count_4 += 1
                                                                                    column_4 += 1
                                                                                    offset_6 += 1
                                                                            else:
                                                                                break

                                                                        break
                                                                    if offset_6 == -1:
                                                                        break
                                                                    value_8.name = 'whitespace'
                                                                    value_8.end = offset_6
                                                                    value_8.end_column = column_4
                                                                    value_8.value = None
                                                                    children_8.append(value_8)


                                                                    break
                                                                if offset_6 != -1:
                                                                    offset_5 = offset_6
                                                                    column_3 = column_4
                                                                    indent_column_3 = indent_column_4
                                                                    partial_tab_offset_3 = partial_tab_offset_4
                                                                    partial_tab_width_3 = partial_tab_width_4
                                                                    if children_8 is not None and children_8 is not None:
                                                                        children_7.extend(children_8)
                                                                    break
                                                                # end case
                                                                offset_5 = -1 # no more choices
                                                                break # end choice
                                                            if offset_5 == -1:
                                                                break

                                                            while True: # start reject
                                                                children_8 = []
                                                                offset_6 = offset_5 + 0
                                                                column_4 = column_3
                                                                indent_column_4 = list(indent_column_3)
                                                                partial_tab_offset_4 = partial_tab_offset_3
                                                                partial_tab_width_4 = partial_tab_width_3
                                                                if buf[offset_6:offset_6+1] == ']':
                                                                    offset_6 += 1
                                                                    column_4 += 1
                                                                else:
                                                                    offset_6 = -1
                                                                    break

                                                                break
                                                            if offset_6 != -1:
                                                                offset_5 = -1
                                                                break

                                                            offset_5, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_element(buf, buf_start, buf_eof, offset_5, column_3, indent_column_3, prefix_0, children_7, partial_tab_offset_3, partial_tab_width_3)
                                                            if offset_5 == -1: break


                                                            #print('safe exit rep rule', offset_4, offset_5)
                                                            break
                                                        #print('exit rep rule', offset_4, offset_5)
                                                        if offset_5 == -1:
                                                            break
                                                        if offset_4 == offset_5: break
                                                        if children_7 is not None and children_7 is not None:
                                                            children_6.extend(children_7)
                                                        offset_4 = offset_5
                                                        column_2 = column_3
                                                        indent_column_2 = indent_column_3
                                                        partial_tab_offset_2 = partial_tab_offset_3
                                                        partial_tab_width_2 = partial_tab_width_3
                                                        count_3 += 1
                                                    if offset_4 == -1:
                                                        break
                                                    value_7 = count_3

                                                    #print('safe exit rep rule', offset_3, offset_4)
                                                    break
                                                #print('exit rep rule', offset_3, offset_4)
                                                if offset_4 == -1:
                                                    break
                                                if offset_3 == offset_4: break
                                                if children_6 is not None and children_6 is not None:
                                                    children_5.extend(children_6)
                                                offset_3 = offset_4
                                                column_1 = column_2
                                                indent_column_1 = indent_column_2
                                                partial_tab_offset_1 = partial_tab_offset_2
                                                partial_tab_width_1 = partial_tab_width_2
                                                count_2 += 1
                                                break
                                            if offset_3 == -1:
                                                break
                                            value_6 = count_2

                                            children_6 = []
                                            value_9 = Node(None, offset_3, offset_3, column_1, column_1, children_6, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_3 < buf_eof:
                                                    codepoint = buf[offset_3]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                                width = partial_tab_width_1
                                                            else:
                                                                width  = (self.tabstop-(column_1%self.tabstop))
                                                            count_2 += width
                                                            column_1 += width
                                                            offset_3 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_1 += 1
                                                            offset_3 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_9.name = 'whitespace'
                                            value_9.end = offset_3
                                            value_9.end_column = column_1
                                            value_9.value = None
                                            children_5.append(value_9)

                                            break
                                        if offset_3 == -1:
                                            offset_2 = -1
                                            break
                                        value_5 = buf[offset_2:offset_3]
                                        offset_2 = offset_3

                                        break
                                    if offset_2 == -1:
                                        break
                                    value_4.name = 'link_para'
                                    value_4.end = offset_2
                                    value_4.end_column = column_1
                                    value_4.value = None
                                    children_4.append(value_4)

                                    if buf[offset_2:offset_2+1] == ']':
                                        offset_2 += 1
                                        column_1 += 1
                                    else:
                                        offset_2 = -1
                                        break

                                    while True: # start choice
                                        offset_3 = offset_2
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '[':
                                                offset_3 += 1
                                                column_2 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                            width = partial_tab_width_2
                                                        else:
                                                            width  = (self.tabstop-(column_2%self.tabstop))
                                                        count_2 += width
                                                        column_2 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_2 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            children_6 = []
                                            value_10 = Node(None, offset_3, offset_3, column_2, column_2, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_39.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_2 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_10.name = 'link_label'
                                            value_10.end = offset_3
                                            value_10.end_column = column_2
                                            value_10.value = None
                                            children_5.append(value_10)

                                            if buf[offset_3:offset_3+1] == ']':
                                                offset_3 += 1
                                                column_2 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            while True: # start reject
                                                children_6 = []
                                                offset_4 = offset_3 + 0
                                                column_3 = column_2
                                                indent_column_3 = list(indent_column_2)
                                                partial_tab_offset_3 = partial_tab_offset_2
                                                partial_tab_width_3 = partial_tab_width_2
                                                if buf[offset_4:offset_4+1] == '[':
                                                    offset_4 += 1
                                                    column_3 += 1
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 != -1:
                                                offset_3 = -1
                                                break

                                            value_2 = 'reference'


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            if buf[offset_3:offset_3+1] == '(':
                                                offset_3 += 1
                                                column_2 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            while True: # start choice
                                                offset_4 = offset_3
                                                column_3 = column_2
                                                indent_column_3 = list(indent_column_2)
                                                partial_tab_offset_3 = partial_tab_offset_2
                                                partial_tab_width_3 = partial_tab_width_2
                                                children_6 = [] if children_5 is not None else None
                                                while True: # case
                                                    count_2 = 0
                                                    while offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                    width = partial_tab_width_3
                                                                else:
                                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                                count_2 += width
                                                                column_3 += width
                                                                offset_4 += 1
                                                            else:
                                                                count_2 += 1
                                                                column_3 += 1
                                                                offset_4 += 1
                                                        else:
                                                            break

                                                    if offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in '\n':
                                                            offset_4 +=1
                                                            column_3 = 0
                                                            indent_column_3[:] = (0, )
                                                        else:
                                                            offset_4 = -1
                                                            break
                                                    else:
                                                        offset_4 = -1
                                                        break

                                                    count_2 = 0
                                                    while offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                    width = partial_tab_width_3
                                                                else:
                                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                                count_2 += width
                                                                column_3 += width
                                                                offset_4 += 1
                                                            else:
                                                                count_2 += 1
                                                                column_3 += 1
                                                                offset_4 += 1
                                                        else:
                                                            break

                                                    while True: # start reject
                                                        children_7 = []
                                                        offset_5 = offset_4 + 0
                                                        column_4 = column_3
                                                        indent_column_4 = list(indent_column_3)
                                                        partial_tab_offset_4 = partial_tab_offset_3
                                                        partial_tab_width_4 = partial_tab_width_3
                                                        if offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in '\n':
                                                                offset_5 +=1
                                                                column_4 = 0
                                                                indent_column_4[:] = (0, )
                                                            else:
                                                                offset_5 = -1
                                                                break
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 != -1:
                                                        offset_4 = -1
                                                        break


                                                    break
                                                if offset_4 != -1:
                                                    offset_3 = offset_4
                                                    column_2 = column_3
                                                    indent_column_2 = indent_column_3
                                                    partial_tab_offset_2 = partial_tab_offset_3
                                                    partial_tab_width_2 = partial_tab_width_3
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    break
                                                # end case
                                                offset_4 = offset_3
                                                column_3 = column_2
                                                indent_column_3 = list(indent_column_2)
                                                partial_tab_offset_3 = partial_tab_offset_2
                                                partial_tab_width_3 = partial_tab_width_2
                                                children_6 = [] if children_5 is not None else None
                                                while True: # case
                                                    count_2 = 0
                                                    while offset_4 < buf_eof:
                                                        codepoint = buf[offset_4]
                                                        if codepoint in ' \t':
                                                            if codepoint == '\t':
                                                                if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                    width = partial_tab_width_3
                                                                else:
                                                                    width  = (self.tabstop-(column_3%self.tabstop))
                                                                count_2 += width
                                                                column_3 += width
                                                                offset_4 += 1
                                                            else:
                                                                count_2 += 1
                                                                column_3 += 1
                                                                offset_4 += 1
                                                        else:
                                                            break


                                                    break
                                                if offset_4 != -1:
                                                    offset_3 = offset_4
                                                    column_2 = column_3
                                                    indent_column_2 = indent_column_3
                                                    partial_tab_offset_2 = partial_tab_offset_3
                                                    partial_tab_width_2 = partial_tab_width_3
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    break
                                                # end case
                                                offset_3 = -1 # no more choices
                                                break # end choice
                                            if offset_3 == -1:
                                                break

                                            offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_link_url(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, prefix_0, children_5, partial_tab_offset_2, partial_tab_width_2)
                                            if offset_3 == -1: break


                                            count_2 = 0
                                            while count_2 < 1:
                                                offset_4 = offset_3
                                                column_3 = column_2
                                                indent_column_3 = list(indent_column_2)
                                                partial_tab_offset_3 = partial_tab_offset_2
                                                partial_tab_width_3 = partial_tab_width_2
                                                children_6 = [] if children_5 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_3, offset_4)
                                                    while True: # start choice
                                                        offset_5 = offset_4
                                                        column_4 = column_3
                                                        indent_column_4 = list(indent_column_3)
                                                        partial_tab_offset_4 = partial_tab_offset_3
                                                        partial_tab_width_4 = partial_tab_width_3
                                                        children_7 = [] if children_6 is not None else None
                                                        while True: # case
                                                            count_3 = 0
                                                            while offset_5 < buf_eof:
                                                                codepoint = buf[offset_5]
                                                                if codepoint in ' \t':
                                                                    if codepoint == '\t':
                                                                        if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                            width = partial_tab_width_4
                                                                        else:
                                                                            width  = (self.tabstop-(column_4%self.tabstop))
                                                                        count_3 += width
                                                                        column_4 += width
                                                                        offset_5 += 1
                                                                    else:
                                                                        count_3 += 1
                                                                        column_4 += 1
                                                                        offset_5 += 1
                                                                else:
                                                                    break

                                                            if offset_5 < buf_eof:
                                                                codepoint = buf[offset_5]
                                                                if codepoint in '\n':
                                                                    offset_5 +=1
                                                                    column_4 = 0
                                                                    indent_column_4[:] = (0, )
                                                                else:
                                                                    offset_5 = -1
                                                                    break
                                                            else:
                                                                offset_5 = -1
                                                                break

                                                            count_3 = 0
                                                            while offset_5 < buf_eof:
                                                                codepoint = buf[offset_5]
                                                                if codepoint in ' \t':
                                                                    if codepoint == '\t':
                                                                        if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                            width = partial_tab_width_4
                                                                        else:
                                                                            width  = (self.tabstop-(column_4%self.tabstop))
                                                                        count_3 += width
                                                                        column_4 += width
                                                                        offset_5 += 1
                                                                    else:
                                                                        count_3 += 1
                                                                        column_4 += 1
                                                                        offset_5 += 1
                                                                else:
                                                                    break

                                                            while True: # start reject
                                                                children_8 = []
                                                                offset_6 = offset_5 + 0
                                                                column_5 = column_4
                                                                indent_column_5 = list(indent_column_4)
                                                                partial_tab_offset_5 = partial_tab_offset_4
                                                                partial_tab_width_5 = partial_tab_width_4
                                                                if offset_6 < buf_eof:
                                                                    codepoint = buf[offset_6]
                                                                    if codepoint in '\n':
                                                                        offset_6 +=1
                                                                        column_5 = 0
                                                                        indent_column_5[:] = (0, )
                                                                    else:
                                                                        offset_6 = -1
                                                                        break
                                                                else:
                                                                    offset_6 = -1
                                                                    break

                                                                break
                                                            if offset_6 != -1:
                                                                offset_5 = -1
                                                                break


                                                            break
                                                        if offset_5 != -1:
                                                            offset_4 = offset_5
                                                            column_3 = column_4
                                                            indent_column_3 = indent_column_4
                                                            partial_tab_offset_3 = partial_tab_offset_4
                                                            partial_tab_width_3 = partial_tab_width_4
                                                            if children_7 is not None and children_7 is not None:
                                                                children_6.extend(children_7)
                                                            break
                                                        # end case
                                                        offset_5 = offset_4
                                                        column_4 = column_3
                                                        indent_column_4 = list(indent_column_3)
                                                        partial_tab_offset_4 = partial_tab_offset_3
                                                        partial_tab_width_4 = partial_tab_width_3
                                                        children_7 = [] if children_6 is not None else None
                                                        while True: # case
                                                            count_3 = 0
                                                            while offset_5 < buf_eof:
                                                                codepoint = buf[offset_5]
                                                                if codepoint in ' \t':
                                                                    if codepoint == '\t':
                                                                        if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                            width = partial_tab_width_4
                                                                        else:
                                                                            width  = (self.tabstop-(column_4%self.tabstop))
                                                                        count_3 += width
                                                                        column_4 += width
                                                                        offset_5 += 1
                                                                    else:
                                                                        count_3 += 1
                                                                        column_4 += 1
                                                                        offset_5 += 1
                                                                else:
                                                                    break


                                                            break
                                                        if offset_5 != -1:
                                                            offset_4 = offset_5
                                                            column_3 = column_4
                                                            indent_column_3 = indent_column_4
                                                            partial_tab_offset_3 = partial_tab_offset_4
                                                            partial_tab_width_3 = partial_tab_width_4
                                                            if children_7 is not None and children_7 is not None:
                                                                children_6.extend(children_7)
                                                            break
                                                        # end case
                                                        offset_4 = -1 # no more choices
                                                        break # end choice
                                                    if offset_4 == -1:
                                                        break

                                                    offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_link_title(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, prefix_0, children_6, partial_tab_offset_3, partial_tab_width_3)
                                                    if offset_4 == -1: break


                                                    #print('safe exit rep rule', offset_3, offset_4)
                                                    break
                                                #print('exit rep rule', offset_3, offset_4)
                                                if offset_4 == -1:
                                                    break
                                                if offset_3 == offset_4: break
                                                if children_6 is not None and children_6 is not None:
                                                    children_5.extend(children_6)
                                                offset_3 = offset_4
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                count_2 += 1
                                                break
                                            if offset_3 == -1:
                                                break
                                            value_11 = count_2

                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                            width = partial_tab_width_2
                                                        else:
                                                            width  = (self.tabstop-(column_2%self.tabstop))
                                                        count_2 += width
                                                        column_2 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_2 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            if buf[offset_3:offset_3+1] == ')':
                                                offset_3 += 1
                                                column_2 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            value_2 = 'inline'


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            children_6 = []
                                            value_12 = Node(None, offset_3, offset_3, column_2, column_2, children_6, None)
                                            while True: # start capture
                                                _match = regex_regex_40.match(buf, offset_3)
                                                if _match:
                                                    _end = _match.end()
                                                    column_2 += (_end - offset_3)
                                                    offset_3 = _end
                                                else:
                                                    offset_3 = -1
                                                    break

                                                break
                                            if offset_3 == -1:
                                                break
                                            value_12.name = 'text'
                                            value_12.end = offset_3
                                            value_12.end_column = column_2
                                            value_12.value = None
                                            children_5.append(value_12)

                                            value_2 = 'shortcut'


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_3 = offset_2
                                        column_2 = column_1
                                        indent_column_2 = list(indent_column_1)
                                        partial_tab_offset_2 = partial_tab_offset_1
                                        partial_tab_width_2 = partial_tab_width_1
                                        children_5 = [] if children_4 is not None else None
                                        while True: # case
                                            value_2 = 'shortcut'


                                            break
                                        if offset_3 != -1:
                                            offset_2 = offset_3
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            break
                                        # end case
                                        offset_2 = -1 # no more choices
                                        break # end choice
                                    if offset_2 == -1:
                                        break

                                    break
                                if offset_2 == -1:
                                    break
                                value_3.name = 'image'
                                value_3.end = offset_2
                                value_3.end_column = column_1
                                value_3.value = value_2
                                children_3.append(value_3)

                                break
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2

                            break
                        if offset_1 == -1:
                            break
                        value_1.name = 'maybe_image'
                        value_1.end = offset_1
                        value_1.end_column = column_1
                        value_1.value = None
                        children_2.append(value_1)


                        break
                    if offset_1 == -1:
                        offset_0 = -1
                        break
                    count_1 = offset_1
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    buf_eof = count_1
                    while True: # case
                        children_3 = []
                        value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_image_as_para(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_3, partial_tab_offset_1, partial_tab_width_1)
                            if offset_1 == -1: break


                            break
                        if offset_1 == -1:
                            break
                        value_13.name = 'maybe_para'
                        value_13.end = offset_1
                        value_13.end_column = column_1
                        value_13.value = None
                        children_2.append(value_13)


                        break
                    if offset_1 == -1:
                        offset_0 = -1
                        break
                    if offset_1 != count_1:
                        offset_0 = -1
                        break
                    # end case
                    break # end parallel
                buf_eof = count_0
                if offset_0 == -1:
                    break
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                if children_2 is not None and children_2 is not None:
                    children_1.extend(children_2)

                break
            if offset_0 == -1:
                break
            value_0.name = 'maybe'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_inline_link(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                while True: # start parse ahead
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = []
                    value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        value_2 = 'reference'
                        offset_2 = offset_1
                        while True: # start backref
                            children_3 = []
                            value_3 = Node(None, offset_2, offset_2, column_1, column_1, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == '[':
                                    offset_2 += 1
                                    column_1 += 1
                                else:
                                    offset_2 = -1
                                    break

                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    count_0 = 0
                                    while offset_3 < buf_eof:
                                        codepoint = buf[offset_3]
                                        if codepoint in '\n':
                                            offset_3 +=1
                                            column_2 = 0
                                            indent_column_2[:] = (0, )
                                            count_0 +=1
                                        elif codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                    width = partial_tab_width_2
                                                else:
                                                    width  = (self.tabstop-(column_2%self.tabstop))
                                                count_0 += width
                                                column_2 += width
                                                offset_3 += 1
                                            else:
                                                count_0 += 1
                                                column_2 += 1
                                                offset_3 += 1
                                        else:
                                            break

                                    if buf[offset_3:offset_3+1] == ']':
                                        offset_3 += 1
                                        column_2 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    while True: # start reject
                                        children_5 = []
                                        offset_4 = offset_3 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_4:offset_4+1] == '(':
                                            offset_4 += 1
                                            column_3 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 != -1:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                children_4 = []
                                value_4 = Node(None, offset_2, offset_2, column_1, column_1, children_4, None)
                                while True: # start capture
                                    offset_3 = offset_2
                                    while True: # start backref
                                        children_5 = []
                                        value_6 = Node(None, offset_3, offset_3, column_1, column_1, children_5, None)
                                        while True: # start capture
                                            count_0 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                            width = partial_tab_width_1
                                                        else:
                                                            width  = (self.tabstop-(column_1%self.tabstop))
                                                        count_0 += width
                                                        column_1 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_0 += 1
                                                        column_1 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_6.name = 'whitespace'
                                        value_6.end = offset_3
                                        value_6.end_column = column_1
                                        value_6.value = None
                                        children_4.append(value_6)

                                        count_0 = 0
                                        while count_0 < 1:
                                            offset_4 = offset_3
                                            column_2 = column_1
                                            indent_column_2 = list(indent_column_1)
                                            partial_tab_offset_2 = partial_tab_offset_1
                                            partial_tab_width_2 = partial_tab_width_1
                                            children_5 = [] if children_4 is not None else None
                                            while True:
                                                #print('entry rep rule', offset_3, offset_4)
                                                while True: # start reject
                                                    children_6 = []
                                                    offset_5 = offset_4 + 0
                                                    column_3 = column_2
                                                    indent_column_3 = list(indent_column_2)
                                                    partial_tab_offset_3 = partial_tab_offset_2
                                                    partial_tab_width_3 = partial_tab_width_2
                                                    if buf[offset_5:offset_5+1] == ']':
                                                        offset_5 += 1
                                                        column_3 += 1
                                                    else:
                                                        offset_5 = -1
                                                        break

                                                    break
                                                if offset_5 != -1:
                                                    offset_4 = -1
                                                    break

                                                offset_4, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_4, column_2, indent_column_2, prefix_0, children_5, partial_tab_offset_2, partial_tab_width_2)
                                                if offset_4 == -1: break


                                                count_1 = 0
                                                while True:
                                                    offset_5 = offset_4
                                                    column_3 = column_2
                                                    indent_column_3 = list(indent_column_2)
                                                    partial_tab_offset_3 = partial_tab_offset_2
                                                    partial_tab_width_3 = partial_tab_width_2
                                                    children_6 = [] if children_5 is not None else None
                                                    while True:
                                                        #print('entry rep rule', offset_4, offset_5)
                                                        while True: # start choice
                                                            offset_6 = offset_5
                                                            column_4 = column_3
                                                            indent_column_4 = list(indent_column_3)
                                                            partial_tab_offset_4 = partial_tab_offset_3
                                                            partial_tab_width_4 = partial_tab_width_3
                                                            children_7 = [] if children_6 is not None else None
                                                            while True: # case
                                                                offset_6, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_linebreak(buf, buf_start, buf_eof, offset_6, column_4, indent_column_4, prefix_0, children_7, partial_tab_offset_4, partial_tab_width_4)
                                                                if offset_6 == -1: break



                                                                break
                                                            if offset_6 != -1:
                                                                offset_5 = offset_6
                                                                column_3 = column_4
                                                                indent_column_3 = indent_column_4
                                                                partial_tab_offset_3 = partial_tab_offset_4
                                                                partial_tab_width_3 = partial_tab_width_4
                                                                if children_7 is not None and children_7 is not None:
                                                                    children_6.extend(children_7)
                                                                break
                                                            # end case
                                                            offset_6 = offset_5
                                                            column_4 = column_3
                                                            indent_column_4 = list(indent_column_3)
                                                            partial_tab_offset_4 = partial_tab_offset_3
                                                            partial_tab_width_4 = partial_tab_width_3
                                                            children_7 = [] if children_6 is not None else None
                                                            while True: # case
                                                                children_8 = []
                                                                value_9 = Node(None, offset_6, offset_6, column_4, column_4, children_8, None)
                                                                while True: # start capture
                                                                    count_2 = 0
                                                                    while offset_6 < buf_eof:
                                                                        codepoint = buf[offset_6]
                                                                        if codepoint in ' \t':
                                                                            if codepoint == '\t':
                                                                                if offset_6 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                                    width = partial_tab_width_4
                                                                                else:
                                                                                    width  = (self.tabstop-(column_4%self.tabstop))
                                                                                count_2 += width
                                                                                column_4 += width
                                                                                offset_6 += 1
                                                                            else:
                                                                                count_2 += 1
                                                                                column_4 += 1
                                                                                offset_6 += 1
                                                                        else:
                                                                            break

                                                                    break
                                                                if offset_6 == -1:
                                                                    break
                                                                value_9.name = 'whitespace'
                                                                value_9.end = offset_6
                                                                value_9.end_column = column_4
                                                                value_9.value = None
                                                                children_7.append(value_9)


                                                                break
                                                            if offset_6 != -1:
                                                                offset_5 = offset_6
                                                                column_3 = column_4
                                                                indent_column_3 = indent_column_4
                                                                partial_tab_offset_3 = partial_tab_offset_4
                                                                partial_tab_width_3 = partial_tab_width_4
                                                                if children_7 is not None and children_7 is not None:
                                                                    children_6.extend(children_7)
                                                                break
                                                            # end case
                                                            offset_5 = -1 # no more choices
                                                            break # end choice
                                                        if offset_5 == -1:
                                                            break

                                                        while True: # start reject
                                                            children_7 = []
                                                            offset_6 = offset_5 + 0
                                                            column_4 = column_3
                                                            indent_column_4 = list(indent_column_3)
                                                            partial_tab_offset_4 = partial_tab_offset_3
                                                            partial_tab_width_4 = partial_tab_width_3
                                                            if buf[offset_6:offset_6+1] == ']':
                                                                offset_6 += 1
                                                                column_4 += 1
                                                            else:
                                                                offset_6 = -1
                                                                break

                                                            break
                                                        if offset_6 != -1:
                                                            offset_5 = -1
                                                            break

                                                        offset_5, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_element(buf, buf_start, buf_eof, offset_5, column_3, indent_column_3, prefix_0, children_6, partial_tab_offset_3, partial_tab_width_3)
                                                        if offset_5 == -1: break


                                                        #print('safe exit rep rule', offset_4, offset_5)
                                                        break
                                                    #print('exit rep rule', offset_4, offset_5)
                                                    if offset_5 == -1:
                                                        break
                                                    if offset_4 == offset_5: break
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    offset_4 = offset_5
                                                    column_2 = column_3
                                                    indent_column_2 = indent_column_3
                                                    partial_tab_offset_2 = partial_tab_offset_3
                                                    partial_tab_width_2 = partial_tab_width_3
                                                    count_1 += 1
                                                if offset_4 == -1:
                                                    break
                                                value_8 = count_1

                                                #print('safe exit rep rule', offset_3, offset_4)
                                                break
                                            #print('exit rep rule', offset_3, offset_4)
                                            if offset_4 == -1:
                                                break
                                            if offset_3 == offset_4: break
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            offset_3 = offset_4
                                            column_1 = column_2
                                            indent_column_1 = indent_column_2
                                            partial_tab_offset_1 = partial_tab_offset_2
                                            partial_tab_width_1 = partial_tab_width_2
                                            count_0 += 1
                                            break
                                        if offset_3 == -1:
                                            break
                                        value_7 = count_0

                                        children_5 = []
                                        value_10 = Node(None, offset_3, offset_3, column_1, column_1, children_5, None)
                                        while True: # start capture
                                            count_0 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                                            width = partial_tab_width_1
                                                        else:
                                                            width  = (self.tabstop-(column_1%self.tabstop))
                                                        count_0 += width
                                                        column_1 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_0 += 1
                                                        column_1 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_10.name = 'whitespace'
                                        value_10.end = offset_3
                                        value_10.end_column = column_1
                                        value_10.value = None
                                        children_4.append(value_10)

                                        break
                                    if offset_3 == -1:
                                        offset_2 = -1
                                        break
                                    value_5 = buf[offset_2:offset_3]
                                    offset_2 = offset_3

                                    break
                                if offset_2 == -1:
                                    break
                                value_4.name = 'link_para'
                                value_4.end = offset_2
                                value_4.end_column = column_1
                                value_4.value = None
                                children_3.append(value_4)

                                if buf[offset_2:offset_2+1] == ']':
                                    offset_2 += 1
                                    column_1 += 1
                                else:
                                    offset_2 = -1
                                    break

                                while True: # start choice
                                    offset_3 = offset_2
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '[':
                                            offset_3 += 1
                                            column_2 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        count_0 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                        width = partial_tab_width_2
                                                    else:
                                                        width  = (self.tabstop-(column_2%self.tabstop))
                                                    count_0 += width
                                                    column_2 += width
                                                    offset_3 += 1
                                                else:
                                                    count_0 += 1
                                                    column_2 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        children_5 = []
                                        value_11 = Node(None, offset_3, offset_3, column_2, column_2, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_39.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_2 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_11.name = 'link_label'
                                        value_11.end = offset_3
                                        value_11.end_column = column_2
                                        value_11.value = None
                                        children_4.append(value_11)

                                        if buf[offset_3:offset_3+1] == ']':
                                            offset_3 += 1
                                            column_2 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start choice
                                            offset_4 = offset_3
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_5 = [] if children_4 is not None else None
                                            while True: # case
                                                children_6 = []
                                                value_12 = Node(None, offset_4, offset_4, column_3, column_3, children_6, None)
                                                while True: # start capture
                                                    offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_link(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, prefix_0, children_6, partial_tab_offset_3, partial_tab_width_3)
                                                    if offset_4 == -1: break


                                                    break
                                                if offset_4 == -1:
                                                    break
                                                value_12.name = 'link_tail'
                                                value_12.end = offset_4
                                                value_12.end_column = column_3
                                                value_12.value = None
                                                children_5.append(value_12)

                                                value_2 = 'multiple'


                                                break
                                            if offset_4 != -1:
                                                offset_3 = offset_4
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                break
                                            # end case
                                            offset_4 = offset_3
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_5 = [] if children_4 is not None else None
                                            while True: # case
                                                value_2 = 'reference'


                                                break
                                            if offset_4 != -1:
                                                offset_3 = offset_4
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                break
                                            # end case
                                            offset_3 = -1 # no more choices
                                            break # end choice
                                        if offset_3 == -1:
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '(':
                                            offset_3 += 1
                                            column_2 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start choice
                                            offset_4 = offset_3
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_5 = [] if children_4 is not None else None
                                            while True: # case
                                                count_0 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                width = partial_tab_width_3
                                                            else:
                                                                width  = (self.tabstop-(column_3%self.tabstop))
                                                            count_0 += width
                                                            column_3 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_0 += 1
                                                            column_3 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                if offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in '\n':
                                                        offset_4 +=1
                                                        column_3 = 0
                                                        indent_column_3[:] = (0, )
                                                    else:
                                                        offset_4 = -1
                                                        break
                                                else:
                                                    offset_4 = -1
                                                    break

                                                count_0 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                width = partial_tab_width_3
                                                            else:
                                                                width  = (self.tabstop-(column_3%self.tabstop))
                                                            count_0 += width
                                                            column_3 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_0 += 1
                                                            column_3 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                while True: # start reject
                                                    children_6 = []
                                                    offset_5 = offset_4 + 0
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    if offset_5 < buf_eof:
                                                        codepoint = buf[offset_5]
                                                        if codepoint in '\n':
                                                            offset_5 +=1
                                                            column_4 = 0
                                                            indent_column_4[:] = (0, )
                                                        else:
                                                            offset_5 = -1
                                                            break
                                                    else:
                                                        offset_5 = -1
                                                        break

                                                    break
                                                if offset_5 != -1:
                                                    offset_4 = -1
                                                    break


                                                break
                                            if offset_4 != -1:
                                                offset_3 = offset_4
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                break
                                            # end case
                                            offset_4 = offset_3
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_5 = [] if children_4 is not None else None
                                            while True: # case
                                                count_0 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                                width = partial_tab_width_3
                                                            else:
                                                                width  = (self.tabstop-(column_3%self.tabstop))
                                                            count_0 += width
                                                            column_3 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_0 += 1
                                                            column_3 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break


                                                break
                                            if offset_4 != -1:
                                                offset_3 = offset_4
                                                column_2 = column_3
                                                indent_column_2 = indent_column_3
                                                partial_tab_offset_2 = partial_tab_offset_3
                                                partial_tab_width_2 = partial_tab_width_3
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                break
                                            # end case
                                            offset_3 = -1 # no more choices
                                            break # end choice
                                        if offset_3 == -1:
                                            break

                                        offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_link_url(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, prefix_0, children_4, partial_tab_offset_2, partial_tab_width_2)
                                        if offset_3 == -1: break


                                        count_0 = 0
                                        while count_0 < 1:
                                            offset_4 = offset_3
                                            column_3 = column_2
                                            indent_column_3 = list(indent_column_2)
                                            partial_tab_offset_3 = partial_tab_offset_2
                                            partial_tab_width_3 = partial_tab_width_2
                                            children_5 = [] if children_4 is not None else None
                                            while True:
                                                #print('entry rep rule', offset_3, offset_4)
                                                while True: # start choice
                                                    offset_5 = offset_4
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    children_6 = [] if children_5 is not None else None
                                                    while True: # case
                                                        count_1 = 0
                                                        while offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                        width = partial_tab_width_4
                                                                    else:
                                                                        width  = (self.tabstop-(column_4%self.tabstop))
                                                                    count_1 += width
                                                                    column_4 += width
                                                                    offset_5 += 1
                                                                else:
                                                                    count_1 += 1
                                                                    column_4 += 1
                                                                    offset_5 += 1
                                                            else:
                                                                break

                                                        if offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in '\n':
                                                                offset_5 +=1
                                                                column_4 = 0
                                                                indent_column_4[:] = (0, )
                                                            else:
                                                                offset_5 = -1
                                                                break
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        count_1 = 0
                                                        while offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                        width = partial_tab_width_4
                                                                    else:
                                                                        width  = (self.tabstop-(column_4%self.tabstop))
                                                                    count_1 += width
                                                                    column_4 += width
                                                                    offset_5 += 1
                                                                else:
                                                                    count_1 += 1
                                                                    column_4 += 1
                                                                    offset_5 += 1
                                                            else:
                                                                break

                                                        while True: # start reject
                                                            children_7 = []
                                                            offset_6 = offset_5 + 0
                                                            column_5 = column_4
                                                            indent_column_5 = list(indent_column_4)
                                                            partial_tab_offset_5 = partial_tab_offset_4
                                                            partial_tab_width_5 = partial_tab_width_4
                                                            if offset_6 < buf_eof:
                                                                codepoint = buf[offset_6]
                                                                if codepoint in '\n':
                                                                    offset_6 +=1
                                                                    column_5 = 0
                                                                    indent_column_5[:] = (0, )
                                                                else:
                                                                    offset_6 = -1
                                                                    break
                                                            else:
                                                                offset_6 = -1
                                                                break

                                                            break
                                                        if offset_6 != -1:
                                                            offset_5 = -1
                                                            break


                                                        break
                                                    if offset_5 != -1:
                                                        offset_4 = offset_5
                                                        column_3 = column_4
                                                        indent_column_3 = indent_column_4
                                                        partial_tab_offset_3 = partial_tab_offset_4
                                                        partial_tab_width_3 = partial_tab_width_4
                                                        if children_6 is not None and children_6 is not None:
                                                            children_5.extend(children_6)
                                                        break
                                                    # end case
                                                    offset_5 = offset_4
                                                    column_4 = column_3
                                                    indent_column_4 = list(indent_column_3)
                                                    partial_tab_offset_4 = partial_tab_offset_3
                                                    partial_tab_width_4 = partial_tab_width_3
                                                    children_6 = [] if children_5 is not None else None
                                                    while True: # case
                                                        count_1 = 0
                                                        while offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_5 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                        width = partial_tab_width_4
                                                                    else:
                                                                        width  = (self.tabstop-(column_4%self.tabstop))
                                                                    count_1 += width
                                                                    column_4 += width
                                                                    offset_5 += 1
                                                                else:
                                                                    count_1 += 1
                                                                    column_4 += 1
                                                                    offset_5 += 1
                                                            else:
                                                                break


                                                        break
                                                    if offset_5 != -1:
                                                        offset_4 = offset_5
                                                        column_3 = column_4
                                                        indent_column_3 = indent_column_4
                                                        partial_tab_offset_3 = partial_tab_offset_4
                                                        partial_tab_width_3 = partial_tab_width_4
                                                        if children_6 is not None and children_6 is not None:
                                                            children_5.extend(children_6)
                                                        break
                                                    # end case
                                                    offset_4 = -1 # no more choices
                                                    break # end choice
                                                if offset_4 == -1:
                                                    break

                                                offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_link_title(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, prefix_0, children_5, partial_tab_offset_3, partial_tab_width_3)
                                                if offset_4 == -1: break


                                                #print('safe exit rep rule', offset_3, offset_4)
                                                break
                                            #print('exit rep rule', offset_3, offset_4)
                                            if offset_4 == -1:
                                                break
                                            if offset_3 == offset_4: break
                                            if children_5 is not None and children_5 is not None:
                                                children_4.extend(children_5)
                                            offset_3 = offset_4
                                            column_2 = column_3
                                            indent_column_2 = indent_column_3
                                            partial_tab_offset_2 = partial_tab_offset_3
                                            partial_tab_width_2 = partial_tab_width_3
                                            count_0 += 1
                                            break
                                        if offset_3 == -1:
                                            break
                                        value_13 = count_0

                                        count_0 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                        width = partial_tab_width_2
                                                    else:
                                                        width  = (self.tabstop-(column_2%self.tabstop))
                                                    count_0 += width
                                                    column_2 += width
                                                    offset_3 += 1
                                                else:
                                                    count_0 += 1
                                                    column_2 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        if buf[offset_3:offset_3+1] == ')':
                                            offset_3 += 1
                                            column_2 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        value_2 = 'inline'


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_14 = Node(None, offset_3, offset_3, column_2, column_2, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_40.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_2 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_14.name = 'text'
                                        value_14.end = offset_3
                                        value_14.end_column = column_2
                                        value_14.value = None
                                        children_4.append(value_14)

                                        value_2 = 'shortcut'


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_2 = column_1
                                    indent_column_2 = list(indent_column_1)
                                    partial_tab_offset_2 = partial_tab_offset_1
                                    partial_tab_width_2 = partial_tab_width_1
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        value_2 = 'shortcut'


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_1 = column_2
                                        indent_column_1 = indent_column_2
                                        partial_tab_offset_1 = partial_tab_offset_2
                                        partial_tab_width_1 = partial_tab_width_2
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_3.name = 'link'
                            value_3.end = offset_2
                            value_3.end_column = column_1
                            value_3.value = value_2
                            children_2.append(value_3)

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break
                        offset_1 = offset_2

                        break
                    if offset_1 == -1:
                        break
                    value_1.name = 'maybe_link'
                    value_1.end = offset_1
                    value_1.end_column = column_1
                    value_1.value = None
                    children_1.append(value_1)

                    break
                if offset_1 == -1:
                    offset_0 = -1
                    break
                value_15 = offset_1

                offset_1 = offset_0
                count_1 = buf_eof
                buf_eof = value_15
                while True: # start until
                    children_2 = []
                    value_16 = Node(None, offset_1, offset_1, column_0, column_0, children_2, None)
                    while True: # start capture
                        offset_1, column_0, partial_tab_offset_0, partial_tab_width_0 = self.parse_inline_link_as_para(buf, buf_start, buf_eof, offset_1, column_0, indent_column_0, prefix_0, children_2, partial_tab_offset_0, partial_tab_width_0)
                        if offset_1 == -1: break


                        break
                    if offset_1 == -1:
                        break
                    value_16.name = 'maybe_para'
                    value_16.end = offset_1
                    value_16.end_column = column_0
                    value_16.value = None
                    children_1.append(value_16)

                    break
                buf_eof = count_1
                if offset_1 == -1 or offset_1 != value_15:
                    offset_0 = -1
                    break
                offset_0 = offset_1

                break
            if offset_0 == -1:
                break
            value_0.name = 'maybe'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_inline_image_as_para(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                if buf[offset_0:offset_0+2] == '![':
                    offset_0 += 2
                    column_0 += 2
                else:
                    offset_0 = -1
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'operator'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            children_1 = []
            value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = 0
                while offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                break
            if offset_0 == -1:
                break
            value_1.name = 'whitespace'
            value_1.end = offset_0
            value_1.end_column = column_0
            value_1.value = None
            children_0.append(value_1)

            count_0 = 0
            while count_0 < 1:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    while True: # start reject
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        if buf[offset_2:offset_2+1] == ']':
                            offset_2 += 1
                            column_2 += 1
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 != -1:
                        offset_1 = -1
                        break

                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_element(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_linebreak(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break



                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_4 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_2 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_2 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_2 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_4.name = 'whitespace'
                                    value_4.end = offset_3
                                    value_4.end_column = column_3
                                    value_4.value = None
                                    children_3.append(value_4)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            while True: # start reject
                                children_3 = []
                                offset_3 = offset_2 + 0
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                if buf[offset_3:offset_3+1] == ']':
                                    offset_3 += 1
                                    column_3 += 1
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = -1
                                break

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_3 = count_1

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
                break
            if offset_0 == -1:
                break
            value_2 = count_0

            children_1 = []
            value_5 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                if buf[offset_0:offset_0+1] == ']':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                break
            if offset_0 == -1:
                break
            value_5.name = 'operator'
            value_5.end = offset_0
            value_5.end_column = column_0
            value_5.value = None
            children_0.append(value_5)

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if offset_1 != buf_eof:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_6 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == '[':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_6.name = 'operator'
                    value_6.end = offset_1
                    value_6.end_column = column_1
                    value_6.value = None
                    children_1.append(value_6)

                    children_2 = []
                    value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        break
                    if offset_1 == -1:
                        break
                    value_7.name = 'whitespace'
                    value_7.end = offset_1
                    value_7.end_column = column_1
                    value_7.value = None
                    children_1.append(value_7)

                    count_0 = 0
                    while count_0 < 1:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start reject
                                children_3 = []
                                offset_3 = offset_2 + 0
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                if buf[offset_3:offset_3+1] == ']':
                                    offset_3 += 1
                                    column_3 += 1
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = -1
                                break

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            offset_4, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_linebreak(buf, buf_start, buf_eof, offset_4, column_4, indent_column_4, prefix_0, children_4, partial_tab_offset_4, partial_tab_width_4)
                                            if offset_4 == -1: break



                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_10 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_10.name = 'whitespace'
                                            value_10.end = offset_4
                                            value_10.end_column = column_4
                                            value_10.value = None
                                            children_4.append(value_10)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    while True: # start reject
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        if buf[offset_4:offset_4+1] == ']':
                                            offset_4 += 1
                                            column_4 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 != -1:
                                        offset_3 = -1
                                        break

                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_element(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break


                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if offset_2 == -1:
                                break
                            value_9 = count_1

                            children_3 = []
                            value_11 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                break
                            if offset_2 == -1:
                                break
                            value_11.name = 'whitespace'
                            value_11.end = offset_2
                            value_11.end_column = column_2
                            value_11.value = None
                            children_2.append(value_11)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                        break
                    if offset_1 == -1:
                        break
                    value_8 = count_0

                    children_2 = []
                    value_12 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == ']':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_12.name = 'operator'
                    value_12.end = offset_1
                    value_12.end_column = column_1
                    value_12.value = None
                    children_1.append(value_12)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == '(':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_13.name = 'operator'
                    value_13.end = offset_1
                    value_13.end_column = column_1
                    value_13.value = None
                    children_1.append(value_13)

                    children_2 = []
                    value_14 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        break
                    if offset_1 == -1:
                        break
                    value_14.name = 'whitespace'
                    value_14.end = offset_1
                    value_14.end_column = column_1
                    value_14.value = None
                    children_1.append(value_14)

                    count_0 = 0
                    while count_0 < 1:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start reject
                                children_3 = []
                                offset_3 = offset_2 + 0
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                if buf[offset_3:offset_3+1] == ')':
                                    offset_3 += 1
                                    column_3 += 1
                                else:
                                    offset_3 = -1
                                    break

                                if offset_3 != buf_eof:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = -1
                                break

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            offset_4, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_linebreak(buf, buf_start, buf_eof, offset_4, column_4, indent_column_4, prefix_0, children_4, partial_tab_offset_4, partial_tab_width_4)
                                            if offset_4 == -1: break



                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_17 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_17.name = 'whitespace'
                                            value_17.end = offset_4
                                            value_17.end_column = column_4
                                            value_17.value = None
                                            children_4.append(value_17)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    while True: # start reject
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        if buf[offset_4:offset_4+1] == ')':
                                            offset_4 += 1
                                            column_4 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        if offset_4 != buf_eof:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 != -1:
                                        offset_3 = -1
                                        break

                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_element(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break


                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if offset_2 == -1:
                                break
                            value_16 = count_1

                            children_3 = []
                            value_18 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                break
                            if offset_2 == -1:
                                break
                            value_18.name = 'whitespace'
                            value_18.end = offset_2
                            value_18.end_column = column_2
                            value_18.value = None
                            children_2.append(value_18)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                        break
                    if offset_1 == -1:
                        break
                    value_15 = count_0

                    children_2 = []
                    value_19 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == ')':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_19.name = 'operator'
                    value_19.end = offset_1
                    value_19.end_column = column_1
                    value_19.value = None
                    children_1.append(value_19)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_inline_link_as_para(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                if buf[offset_0:offset_0+1] == '[':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'operator'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            children_1 = []
            value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                count_0 = 0
                while offset_0 < buf_eof:
                    codepoint = buf[offset_0]
                    if codepoint in ' \t':
                        if codepoint == '\t':
                            if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                width = partial_tab_width_0
                            else:
                                width  = (self.tabstop-(column_0%self.tabstop))
                            count_0 += width
                            column_0 += width
                            offset_0 += 1
                        else:
                            count_0 += 1
                            column_0 += 1
                            offset_0 += 1
                    else:
                        break

                break
            if offset_0 == -1:
                break
            value_1.name = 'whitespace'
            value_1.end = offset_0
            value_1.end_column = column_0
            value_1.value = None
            children_0.append(value_1)

            count_0 = 0
            while count_0 < 1:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    while True: # start reject
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        if buf[offset_2:offset_2+1] == ']':
                            offset_2 += 1
                            column_2 += 1
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 != -1:
                        offset_1 = -1
                        break

                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_inline_element(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_linebreak(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break



                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_4 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_2 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_2 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_2 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_4.name = 'whitespace'
                                    value_4.end = offset_3
                                    value_4.end_column = column_3
                                    value_4.value = None
                                    children_3.append(value_4)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            while True: # start reject
                                children_3 = []
                                offset_3 = offset_2 + 0
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                if buf[offset_3:offset_3+1] == ']':
                                    offset_3 += 1
                                    column_3 += 1
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = -1
                                break

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_3 = count_1

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
                break
            if offset_0 == -1:
                break
            value_2 = count_0

            children_1 = []
            value_5 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                if buf[offset_0:offset_0+1] == ']':
                    offset_0 += 1
                    column_0 += 1
                else:
                    offset_0 = -1
                    break

                break
            if offset_0 == -1:
                break
            value_5.name = 'operator'
            value_5.end = offset_0
            value_5.end_column = column_0
            value_5.value = None
            children_0.append(value_5)

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if offset_1 != buf_eof:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_6 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_40.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_6.name = 'operator'
                    value_6.end = offset_1
                    value_6.end_column = column_1
                    value_6.value = None
                    children_1.append(value_6)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == '(':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_7.name = 'operator'
                    value_7.end = offset_1
                    value_7.end_column = column_1
                    value_7.value = None
                    children_1.append(value_7)

                    children_2 = []
                    value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        break
                    if offset_1 == -1:
                        break
                    value_8.name = 'whitespace'
                    value_8.end = offset_1
                    value_8.end_column = column_1
                    value_8.value = None
                    children_1.append(value_8)

                    count_0 = 0
                    while count_0 < 1:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start reject
                                children_3 = []
                                offset_3 = offset_2 + 0
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                if buf[offset_3:offset_3+1] == ')':
                                    offset_3 += 1
                                    column_3 += 1
                                else:
                                    offset_3 = -1
                                    break

                                if offset_3 != buf_eof:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = -1
                                break

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_element(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            count_1 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            offset_4, column_4, partial_tab_offset_4, partial_tab_width_4 = self.parse_linebreak(buf, buf_start, buf_eof, offset_4, column_4, indent_column_4, prefix_0, children_4, partial_tab_offset_4, partial_tab_width_4)
                                            if offset_4 == -1: break



                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_11 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_11.name = 'whitespace'
                                            value_11.end = offset_4
                                            value_11.end_column = column_4
                                            value_11.value = None
                                            children_4.append(value_11)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    while True: # start reject
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        if buf[offset_4:offset_4+1] == ')':
                                            offset_4 += 1
                                            column_4 += 1
                                        else:
                                            offset_4 = -1
                                            break

                                        if offset_4 != buf_eof:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 != -1:
                                        offset_3 = -1
                                        break

                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_inline_element(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break


                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                            if offset_2 == -1:
                                break
                            value_10 = count_1

                            children_3 = []
                            value_12 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_1 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_1 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                break
                            if offset_2 == -1:
                                break
                            value_12.name = 'whitespace'
                            value_12.end = offset_2
                            value_12.end_column = column_2
                            value_12.value = None
                            children_2.append(value_12)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                        break
                    if offset_1 == -1:
                        break
                    value_9 = count_0

                    children_2 = []
                    value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == ')':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_13.name = 'operator'
                    value_13.end = offset_1
                    value_13.end_column = column_1
                    value_13.value = None
                    children_1.append(value_13)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_inline_link(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if count_0 < 1:
                    #    print('min exit', offset_1)
                        offset_1 = -1
                        break
                    if offset_1 == -1:
                        break
                    value_14 = count_0


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_link_url(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '<':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                        if offset_3 == -1: break



                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '\\':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            _match = regex_regex_6.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_4 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break

                                        children_5 = []
                                        value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_6.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_2.name = 'raw'
                                        value_2.end = offset_3
                                        value_2.end_column = column_3
                                        value_2.value = None
                                        children_4.append(value_2)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_21.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_3.name = 'raw'
                                        value_3.end = offset_3
                                        value_3.end_column = column_3
                                        value_3.value = None
                                        children_4.append(value_3)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_1 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'link_url'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)

                    if buf[offset_1:offset_1+1] == '>':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    count_0 = 0
                    while offset_1 < buf_eof:
                        codepoint = buf[offset_1]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                    width = partial_tab_width_1
                                else:
                                    width  = (self.tabstop-(column_1%self.tabstop))
                                count_0 += width
                                column_1 += width
                                offset_1 += 1
                            else:
                                count_0 += 1
                                column_1 += 1
                                offset_1 += 1
                        else:
                            break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            _match = regex_regex_41.match(buf, offset_2)
                            if _match:
                                _end = _match.end()
                                column_2 += (_end - offset_2)
                                offset_2 = _end
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_balanced_list_url(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        break
                    if offset_1 == -1:
                        break
                    value_4.name = 'link_url'
                    value_4.end = offset_1
                    value_4.end_column = column_1
                    value_4.value = None
                    children_1.append(value_4)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_balanced_list_url(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while True:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break



                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    if buf[offset_3:offset_3+1] == '\\':
                                        offset_3 += 1
                                        column_3 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    while True: # start lookahed
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        _match = regex_regex_6.match(buf, offset_4)
                                        if _match:
                                            _end = _match.end()
                                            column_4 += (_end - offset_4)
                                            offset_4 = _end
                                        else:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 == -1:
                                        offset_3 = -1
                                        break

                                    children_4 = []
                                    value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_6.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_2.name = 'raw'
                                    value_2.end = offset_3
                                    value_2.end_column = column_3
                                    value_2.value = None
                                    children_3.append(value_2)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_22.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_3.name = 'raw'
                                    value_3.end = offset_3
                                    value_3.end_column = column_3
                                    value_3.value = None
                                    children_3.append(value_3)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_1 = count_1

                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_5 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == '(':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_5.name = 'raw'
                            value_5.end = offset_2
                            value_5.end_column = column_2
                            value_5.value = None
                            children_2.append(value_5)

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_balanced_list_url(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            children_3 = []
                            value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == ')':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_6.name = 'raw'
                            value_6.end = offset_2
                            value_6.end_column = column_2
                            value_6.value = None
                            children_2.append(value_6)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_4 = count_1

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
            if offset_0 == -1:
                break
            value_0 = count_0

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_link_title(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '"':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                        if offset_3 == -1: break



                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '\\':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            _match = regex_regex_6.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_4 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break

                                        children_5 = []
                                        value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_6.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_2.name = 'raw'
                                        value_2.end = offset_3
                                        value_2.end_column = column_3
                                        value_2.value = None
                                        children_4.append(value_2)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_42.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_3.name = 'raw'
                                        value_3.end = offset_3
                                        value_3.end_column = column_3
                                        value_3.value = None
                                        children_4.append(value_3)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_4 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_4.name = 'raw'
                                        value_4.end = offset_3
                                        value_4.end_column = column_3
                                        value_4.value = None
                                        children_4.append(value_4)

                                        if column_3 != 0:
                                            offset_3 = -1
                                            break
                                        # print('start')
                                        for indent, dedent in prefix_0:
                                            # print(indent, dedent)
                                            _children, _prefix = [], []
                                            offset_4 = offset_3
                                            offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                            if _prefix or _children:
                                               raise Exception('bar')
                                            if offset_4 == -1:
                                                if dedent is None:
                                                    offset_3 = -1
                                                    break
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_4, column_3, list(indent_column_3), _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if offset_4 != -1:
                                                    offset_3 = -1
                                                    break
                                                else:
                                                    offset_4 = offset_3
                                            offset_3 = offset_4
                                            indent_column_3.append(column_3)
                                        if offset_3 == -1:
                                            break

                                        count_1 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in '\n':
                                                    offset_4 +=1
                                                    column_4 = 0
                                                    indent_column_4[:] = (0, )
                                                else:
                                                    offset_4 = -1
                                                    break
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_1 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'link_title'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)

                    if buf[offset_1:offset_1+1] == '"':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == "'":
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_4, partial_tab_offset_3, partial_tab_width_3)
                                        if offset_3 == -1: break



                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        if buf[offset_3:offset_3+1] == '\\':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        while True: # start lookahed
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            _match = regex_regex_6.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_4 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 == -1:
                                            offset_3 = -1
                                            break

                                        children_5 = []
                                        value_7 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_6.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_7.name = 'raw'
                                        value_7.end = offset_3
                                        value_7.end_column = column_3
                                        value_7.value = None
                                        children_4.append(value_7)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_8 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_43.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_8.name = 'raw'
                                        value_8.end = offset_3
                                        value_8.end_column = column_3
                                        value_8.value = None
                                        children_4.append(value_8)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_9 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_9.name = 'raw'
                                        value_9.end = offset_3
                                        value_9.end_column = column_3
                                        value_9.value = None
                                        children_4.append(value_9)

                                        if column_3 != 0:
                                            offset_3 = -1
                                            break
                                        # print('start')
                                        for indent, dedent in prefix_0:
                                            # print(indent, dedent)
                                            _children, _prefix = [], []
                                            offset_4 = offset_3
                                            offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                            if _prefix or _children:
                                               raise Exception('bar')
                                            if offset_4 == -1:
                                                if dedent is None:
                                                    offset_3 = -1
                                                    break
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_4, column_3, list(indent_column_3), _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if offset_4 != -1:
                                                    offset_3 = -1
                                                    break
                                                else:
                                                    offset_4 = offset_3
                                            offset_3 = offset_4
                                            indent_column_3.append(column_3)
                                        if offset_3 == -1:
                                            break

                                        count_1 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if offset_4 < buf_eof:
                                                codepoint = buf[offset_4]
                                                if codepoint in '\n':
                                                    offset_4 +=1
                                                    column_4 = 0
                                                    indent_column_4[:] = (0, )
                                                else:
                                                    offset_4 = -1
                                                    break
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_6 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_5.name = 'link_title'
                    value_5.end = offset_1
                    value_5.end_column = column_1
                    value_5.value = None
                    children_1.append(value_5)

                    if buf[offset_1:offset_1+1] == "'":
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '(':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_10 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_balanced_list_title(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_2, partial_tab_offset_1, partial_tab_width_1)
                        if offset_1 == -1: break


                        break
                    if offset_1 == -1:
                        break
                    value_10.name = 'link_title'
                    value_10.end = offset_1
                    value_10.end_column = column_1
                    value_10.value = None
                    children_1.append(value_10)

                    if buf[offset_1:offset_1+1] == ')':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_balanced_list_title(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while True:
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True:
                    #print('entry rep rule', offset_0, offset_1)
                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    offset_3, column_3, partial_tab_offset_3, partial_tab_width_3 = self.parse_raw_entity(buf, buf_start, buf_eof, offset_3, column_3, indent_column_3, prefix_0, children_3, partial_tab_offset_3, partial_tab_width_3)
                                    if offset_3 == -1: break



                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    if buf[offset_3:offset_3+1] == '\\':
                                        offset_3 += 1
                                        column_3 += 1
                                    else:
                                        offset_3 = -1
                                        break

                                    while True: # start lookahed
                                        children_4 = []
                                        offset_4 = offset_3 + 0
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        _match = regex_regex_6.match(buf, offset_4)
                                        if _match:
                                            _end = _match.end()
                                            column_4 += (_end - offset_4)
                                            offset_4 = _end
                                        else:
                                            offset_4 = -1
                                            break

                                        break
                                    if offset_4 == -1:
                                        offset_3 = -1
                                        break

                                    children_4 = []
                                    value_2 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_6.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_2.name = 'raw'
                                    value_2.end = offset_3
                                    value_2.end_column = column_3
                                    value_2.value = None
                                    children_3.append(value_2)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        _match = regex_regex_44.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_3.name = 'raw'
                                    value_3.end = offset_3
                                    value_3.end_column = column_3
                                    value_3.value = None
                                    children_3.append(value_3)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_1 = count_1

                    count_1 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_5 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == '(':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_5.name = 'raw'
                            value_5.end = offset_2
                            value_5.end_column = column_2
                            value_5.value = None
                            children_2.append(value_5)

                            offset_2, column_2, partial_tab_offset_2, partial_tab_width_2 = self.parse_balanced_list_title(buf, buf_start, buf_eof, offset_2, column_2, indent_column_2, prefix_0, children_2, partial_tab_offset_2, partial_tab_width_2)
                            if offset_2 == -1: break


                            children_3 = []
                            value_6 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+1] == ')':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_6.name = 'raw'
                            value_6.end = offset_2
                            value_6.end_column = column_2
                            value_6.value = None
                            children_2.append(value_6)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_1 += 1
                    if offset_1 == -1:
                        break
                    value_4 = count_1

                    #print('safe exit rep rule', offset_0, offset_1)
                    break
                #print('exit rep rule', offset_0, offset_1)
                if offset_1 == -1:
                    break
                if offset_0 == offset_1: break
                if children_1 is not None and children_1 is not None:
                    children_0.extend(children_1)
                offset_0 = offset_1
                column_0 = column_1
                indent_column_0 = indent_column_1
                partial_tab_offset_0 = partial_tab_offset_1
                partial_tab_width_0 = partial_tab_width_1
                count_0 += 1
            if offset_0 == -1:
                break
            value_0 = count_0

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_raw_entity(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            if buf[offset_0:offset_0+1] == '&':
                offset_0 += 1
                column_0 += 1
            else:
                offset_0 = -1
                break

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '#':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_7.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'raw_entity'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = 'decimal'
                    children_1.append(value_0)

                    if buf[offset_1:offset_1+1] == ';':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    if buf[offset_1:offset_1+1] == '#':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break

                    _match = regex_regex_8.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    children_2 = []
                    value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_9.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_10.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_1.name = 'raw_entity'
                    value_1.end = offset_1
                    value_1.end_column = column_1
                    value_1.value = 'hex'
                    children_1.append(value_1)

                    if buf[offset_1:offset_1+1] == ';':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_2 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_11.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_12.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_2.name = 'raw_entity'
                    value_2.end = offset_1
                    value_2.end_column = column_1
                    value_2.value = 'named'
                    children_1.append(value_2)

                    if buf[offset_1:offset_1+1] == ';':
                        offset_1 += 1
                        column_1 += 1
                    else:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_left_flank(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_45.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_2 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_2)] == value_2:
                                        offset_3 += len(value_2)
                                        column_3 += len(value_2)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_3 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_1 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'left'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_2))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_1))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_45.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_5 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_5)] == value_5:
                                        offset_3 += len(value_5)
                                        column_3 += len(value_5)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_6 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_4 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'left'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_5))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_4))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'left_flank'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_right_flank(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_45.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_2 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_2)] == value_2:
                                        offset_3 += len(value_2)
                                        column_3 += len(value_2)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_3 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_1 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'right'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_2))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_1))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_45.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_5 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_5)] == value_5:
                                        offset_3 += len(value_5)
                                        column_3 += len(value_5)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_6 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_4 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'right'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_5))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_4))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'right_flank'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_dual_flank(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_45.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_2 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_2)] == value_2:
                                        offset_3 += len(value_2)
                                        column_3 += len(value_2)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_3 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_1 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        while True: # start lookahed
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 == -1:
                            offset_1 = -1
                            break

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'dual'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_2))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_1))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + -1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        offset_2 = offset_1
                        column_2 = column_1
                        while True: # start count
                            offset_3 = offset_2
                            while True: # start backref
                                _match = regex_regex_46.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 == -1:
                                offset_2 = -1
                                break
                            value_5 = buf[offset_2:offset_3]
                            offset_2 = offset_3

                            count_0 = 0
                            while True:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    if buf[offset_3:offset_3+len(value_5)] == value_5:
                                        offset_3 += len(value_5)
                                        column_3 += len(value_5)
                                    else:
                                        offset_3 = -1
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_2 == -1:
                                break
                            value_6 = count_0

                            break
                        if offset_2 == -1:
                            offset_1 = -1; break
                        value_4 = column_2 - column_1
                        offset_1 = offset_2
                        column_1 = column_2

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if offset_2 == buf_eof:
                                offset_2 = -1
                                break

                            codepoint = ord(buf[offset_2])

                            if unicodedata.category(chr(codepoint)) == 'Zs':
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)) in ('Zl', 'Zp', 'Cc'):
                                offset_2 += 1
                                column_2 += 1
                            elif unicodedata.category(chr(codepoint)).startswith('P'):
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), 'dual'))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_5))

                        children_2.append(Node('value', offset_1, offset_1, column_1, column_1, (), value_4))


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'dual_flank'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_code_span(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_2 = offset_1
                    column_2 = column_1
                    while True: # start count
                        _match = regex_regex_47.match(buf, offset_2)
                        if _match:
                            _end = _match.end()
                            column_2 += (_end - offset_2)
                            offset_2 = _end
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1; break
                    value_0 = buf[offset_1:offset_2].count('`')
                    offset_1 = offset_2
                    column_1 = column_2

                    children_2 = []
                    value_1 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start choice
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_3 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_48.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            _match = regex_regex_49.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_3.name = 'text'
                                        value_3.end = offset_3
                                        value_3.end_column = column_3
                                        value_3.value = None
                                        children_4.append(value_3)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        children_5 = []
                                        value_4 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            if offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in '\n':
                                                    offset_3 +=1
                                                    column_3 = 0
                                                    indent_column_3[:] = (0, )
                                                else:
                                                    offset_3 = -1
                                                    break
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_4.name = 'text'
                                        value_4.end = offset_3
                                        value_4.end_column = column_3
                                        value_4.value = None
                                        children_4.append(value_4)

                                        if column_3 != 0:
                                            offset_3 = -1
                                            break
                                        # print('start')
                                        for indent, dedent in prefix_0:
                                            # print(indent, dedent)
                                            _children, _prefix = [], []
                                            offset_4 = offset_3
                                            offset_4, column_3, partial_tab_offset_3, partial_tab_width_3 = indent(buf, buf_start, buf_eof, offset_4, column_3, indent_column_3, _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                            if _prefix or _children:
                                               raise Exception('bar')
                                            if offset_4 == -1:
                                                if dedent is None:
                                                    offset_3 = -1
                                                    break
                                                _children, _prefix = [], []
                                                offset_4 = offset_3
                                                offset_4, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_4, column_3, list(indent_column_3), _prefix, _children, partial_tab_offset_3, partial_tab_width_3)
                                                if offset_4 != -1:
                                                    offset_3 = -1
                                                    break
                                                else:
                                                    offset_4 = offset_3
                                            offset_3 = offset_4
                                            indent_column_3.append(column_3)
                                        if offset_3 == -1:
                                            break


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True: # case
                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            count_1 = 0
                                            while count_1 < value_0:
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_6 = [] if children_5 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_4, offset_5)
                                                    if buf[offset_5:offset_5+1] == '`':
                                                        offset_5 += 1
                                                        column_5 += 1
                                                    else:
                                                        offset_5 = -1
                                                        break

                                                    #print('safe exit rep rule', offset_4, offset_5)
                                                    break
                                                #print('exit rep rule', offset_4, offset_5)
                                                if offset_5 == -1:
                                                    break
                                                if offset_4 == offset_5: break
                                                if children_6 is not None and children_6 is not None:
                                                    children_5.extend(children_6)
                                                offset_4 = offset_5
                                                column_4 = column_5
                                                indent_column_4 = indent_column_5
                                                partial_tab_offset_4 = partial_tab_offset_5
                                                partial_tab_width_4 = partial_tab_width_5
                                                count_1 += 1
                                            if count_1 < value_0:
                                            #    print('min exit', offset_4)
                                                offset_4 = -1
                                                break
                                            if offset_4 == -1:
                                                break
                                            value_5 = count_1

                                            while True: # start choice
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_6 = [] if children_5 is not None else None
                                                while True: # case
                                                    _match = regex_regex_50.match(buf, offset_5)
                                                    if _match:
                                                        _end = _match.end()
                                                        column_5 += (_end - offset_5)
                                                        offset_5 = _end
                                                    else:
                                                        offset_5 = -1
                                                        break

                                                    break
                                                if offset_5 != -1:
                                                    offset_4 = offset_5
                                                    column_4 = column_5
                                                    indent_column_4 = indent_column_5
                                                    partial_tab_offset_4 = partial_tab_offset_5
                                                    partial_tab_width_4 = partial_tab_width_5
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    break
                                                # end case
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_6 = [] if children_5 is not None else None
                                                while True: # case
                                                    if offset_5 != buf_eof:
                                                        offset_5 = -1
                                                        break


                                                    break
                                                if offset_5 != -1:
                                                    offset_4 = offset_5
                                                    column_4 = column_5
                                                    indent_column_4 = indent_column_5
                                                    partial_tab_offset_4 = partial_tab_offset_5
                                                    partial_tab_width_4 = partial_tab_width_5
                                                    if children_6 is not None and children_6 is not None:
                                                        children_5.extend(children_6)
                                                    break
                                                # end case
                                                offset_4 = -1 # no more choices
                                                break # end choice
                                            if offset_4 == -1:
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        children_5 = []
                                        value_6 = Node(None, offset_3, offset_3, column_3, column_3, children_5, None)
                                        while True: # start capture
                                            _match = regex_regex_51.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            break
                                        if offset_3 == -1:
                                            break
                                        value_6.name = 'text'
                                        value_6.end = offset_3
                                        value_6.end_column = column_3
                                        value_6.value = None
                                        children_4.append(value_6)


                                        break
                                    if offset_3 != -1:
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        break
                                    # end case
                                    offset_2 = -1 # no more choices
                                    break # end choice
                                if offset_2 == -1:
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if count_0 < 1:
                        #    print('min exit', offset_1)
                            offset_1 = -1
                            break
                        if offset_1 == -1:
                            break
                        value_2 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_1.name = 'code_span'
                    value_1.end = offset_1
                    value_1.end_column = column_1
                    value_1.value = None
                    children_1.append(value_1)

                    count_0 = 0
                    while count_0 < value_0:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            if buf[offset_2:offset_2+1] == '`':
                                offset_2 += 1
                                column_2 += 1
                            else:
                                offset_2 = -1
                                break

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if count_0 < value_0:
                    #    print('min exit', offset_1)
                        offset_1 = -1
                        break
                    if offset_1 == -1:
                        break
                    value_7 = count_0

                    while True: # start reject
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        if buf[offset_2:offset_2+1] == '`':
                            offset_2 += 1
                            column_2 += 1
                        else:
                            offset_2 = -1
                            break

                        break
                    if offset_2 != -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        _match = regex_regex_47.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_8.name = 'text'
                    value_8.end = offset_1
                    value_8.end_column = column_1
                    value_8.value = None
                    children_1.append(value_8)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_1(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_2(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_3(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_4(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_5(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_6(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    offset_1, column_1, partial_tab_offset_1, partial_tab_width_1 = self.parse_html_block_type_7(buf, buf_start, buf_eof, offset_1, column_1, indent_column_1, prefix_0, children_1, partial_tab_offset_1, partial_tab_width_1)
                    if offset_1 == -1: break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_start_html_block(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            count_0 = 0
            while offset_0 < buf_eof and count_0 < 3:
                codepoint = buf[offset_0]
                if codepoint in ' \t':
                    if codepoint == '\t':
                        if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                            width = partial_tab_width_0
                        else:
                            width  = (self.tabstop-(column_0%self.tabstop))
                        if count_0 + width > 3:
                            new_width = 3 - count_0
                            count_0 += new_width
                            column_0 += new_width
                            partial_tab_offset_0 = offset_0
                            partial_tab_width_0 = width - new_width
                            break
                        count_0 += width
                        column_0 += width
                        offset_0 += 1
                    else:
                        count_0 += 1
                        column_0 += 1
                        offset_0 += 1
                else:
                    break

            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    _match = regex_regex_52.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    _match = regex_regex_53.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    _match = regex_regex_54.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    _match = regex_regex_55.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    _match = regex_regex_56.match(buf, offset_1)
                    if _match:
                        _end = _match.end()
                        column_1 += (_end - offset_1)
                        offset_1 = _end
                    else:
                        offset_1 = -1
                        break

                    while True: # start lookahed
                        children_2 = []
                        offset_2 = offset_1 + 0
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        while True: # start choice
                            offset_3 = offset_2
                            column_3 = column_2
                            indent_column_3 = list(indent_column_2)
                            partial_tab_offset_3 = partial_tab_offset_2
                            partial_tab_width_3 = partial_tab_width_2
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                count_0 = 0
                                while offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                width = partial_tab_width_3
                                            else:
                                                width  = (self.tabstop-(column_3%self.tabstop))
                                            count_0 += width
                                            column_3 += width
                                            offset_3 += 1
                                        else:
                                            count_0 += 1
                                            column_3 += 1
                                            offset_3 += 1
                                    else:
                                        break
                                if count_0 < 1:
                                    offset_3 = -1
                                    break


                                break
                            if offset_3 != -1:
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_3 = offset_2
                            column_3 = column_2
                            indent_column_3 = list(indent_column_2)
                            partial_tab_offset_3 = partial_tab_offset_2
                            partial_tab_width_3 = partial_tab_width_2
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                _match = regex_regex_57.match(buf, offset_3)
                                if _match:
                                    _end = _match.end()
                                    column_3 += (_end - offset_3)
                                    offset_3 = _end
                                else:
                                    offset_3 = -1
                                    break

                                break
                            if offset_3 != -1:
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_3 = offset_2
                            column_3 = column_2
                            indent_column_3 = list(indent_column_2)
                            partial_tab_offset_3 = partial_tab_offset_2
                            partial_tab_width_3 = partial_tab_width_2
                            children_3 = [] if children_2 is not None else None
                            while True: # case
                                if offset_3 < buf_eof:
                                    codepoint = buf[offset_3]
                                    if codepoint in '\n':
                                        offset_3 +=1
                                        column_3 = 0
                                        indent_column_3[:] = (0, )
                                    else:
                                        offset_3 = -1
                                        break


                                break
                            if offset_3 != -1:
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                break
                            # end case
                            offset_2 = -1 # no more choices
                            break # end choice
                        if offset_2 == -1:
                            break

                        break
                    if offset_2 == -1:
                        offset_1 = -1
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break


            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_inline_html(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            while True: # start choice
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_0 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+2] == '<?':
                            offset_1 += 2
                            column_1 += 2
                        else:
                            offset_1 = -1
                            break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if buf[offset_3:offset_3+2] == '?>':
                                        offset_3 += 2
                                        column_3 += 2
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_3.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_1 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_0.name = 'raw'
                    value_0.end = offset_1
                    value_0.end_column = column_1
                    value_0.value = None
                    children_1.append(value_0)

                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_3 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_3.name = 'raw'
                            value_3.end = offset_2
                            value_3.end_column = column_2
                            value_3.value = None
                            children_2.append(value_3)

                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    if dedent is None:
                                        offset_2 = -1
                                        break
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break
                                    else:
                                        offset_3 = offset_2
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_4 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while True:
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_2, offset_3)
                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if buf[offset_4:offset_4+2] == '?>':
                                                offset_4 += 2
                                                column_4 += 2
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        _match = regex_regex_3.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        #print('safe exit rep rule', offset_2, offset_3)
                                        break
                                    #print('exit rep rule', offset_2, offset_3)
                                    if offset_3 == -1:
                                        break
                                    if offset_2 == offset_3: break
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    count_1 += 1
                                if offset_2 == -1:
                                    break
                                value_5 = count_1

                                break
                            if offset_2 == -1:
                                break
                            value_4.name = 'raw'
                            value_4.end = offset_2
                            value_4.end_column = column_2
                            value_4.value = None
                            children_2.append(value_4)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if offset_1 == -1:
                        break
                    value_2 = count_0

                    children_2 = []
                    value_6 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+2] == '?>':
                            offset_1 += 2
                            column_1 += 2
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_6.name = 'raw'
                    value_6.end = offset_1
                    value_6.end_column = column_1
                    value_6.value = None
                    children_1.append(value_6)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+4] == '<!--':
                            offset_1 += 4
                            column_1 += 4
                        else:
                            offset_1 = -1
                            break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    _match = regex_regex_58.match(buf, offset_3)
                                    if _match:
                                        _end = _match.end()
                                        column_3 += (_end - offset_3)
                                        offset_3 = _end
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_3.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_8 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_7.name = 'raw'
                    value_7.end = offset_1
                    value_7.end_column = column_1
                    value_7.value = None
                    children_1.append(value_7)

                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_10 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_10.name = 'raw'
                            value_10.end = offset_2
                            value_10.end_column = column_2
                            value_10.value = None
                            children_2.append(value_10)

                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    if dedent is None:
                                        offset_2 = -1
                                        break
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break
                                    else:
                                        offset_3 = offset_2
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_11 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while True:
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_2, offset_3)
                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            _match = regex_regex_58.match(buf, offset_4)
                                            if _match:
                                                _end = _match.end()
                                                column_4 += (_end - offset_4)
                                                offset_4 = _end
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        _match = regex_regex_3.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        #print('safe exit rep rule', offset_2, offset_3)
                                        break
                                    #print('exit rep rule', offset_2, offset_3)
                                    if offset_3 == -1:
                                        break
                                    if offset_2 == offset_3: break
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    count_1 += 1
                                if offset_2 == -1:
                                    break
                                value_12 = count_1

                                break
                            if offset_2 == -1:
                                break
                            value_11.name = 'raw'
                            value_11.end = offset_2
                            value_11.end_column = column_2
                            value_11.value = None
                            children_2.append(value_11)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if offset_1 == -1:
                        break
                    value_9 = count_0

                    children_2 = []
                    value_13 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+3] == '-->':
                            offset_1 += 3
                            column_1 += 3
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_13.name = 'raw'
                    value_13.end = offset_1
                    value_13.end_column = column_1
                    value_13.value = None
                    children_1.append(value_13)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_14 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+2] == '<!':
                            offset_1 += 2
                            column_1 += 2
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_59.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_60.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_14.name = 'raw'
                    value_14.end = offset_1
                    value_14.end_column = column_1
                    value_14.value = None
                    children_1.append(value_14)

                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_16 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_16.name = 'raw'
                            value_16.end = offset_2
                            value_16.end_column = column_2
                            value_16.value = None
                            children_2.append(value_16)

                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    if dedent is None:
                                        offset_2 = -1
                                        break
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break
                                    else:
                                        offset_3 = offset_2
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_17 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_60.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_17.name = 'raw'
                            value_17.end = offset_2
                            value_17.end_column = column_2
                            value_17.value = None
                            children_2.append(value_17)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if offset_1 == -1:
                        break
                    value_15 = count_0

                    children_2 = []
                    value_18 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == '>':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_18.name = 'raw'
                    value_18.end = offset_1
                    value_18.end_column = column_1
                    value_18.value = None
                    children_1.append(value_18)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_19 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+9] == '<![CDATA[':
                            offset_1 += 9
                            column_1 += 9
                        else:
                            offset_1 = -1
                            break

                        count_0 = 0
                        while True:
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_3 = [] if children_2 is not None else None
                            while True:
                                #print('entry rep rule', offset_1, offset_2)
                                while True: # start reject
                                    children_4 = []
                                    offset_3 = offset_2 + 0
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    if buf[offset_3:offset_3+3] == ']]>':
                                        offset_3 += 3
                                        column_3 += 3
                                    else:
                                        offset_3 = -1
                                        break

                                    break
                                if offset_3 != -1:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_3.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                #print('safe exit rep rule', offset_1, offset_2)
                                break
                            #print('exit rep rule', offset_1, offset_2)
                            if offset_2 == -1:
                                break
                            if offset_1 == offset_2: break
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            count_0 += 1
                        if offset_1 == -1:
                            break
                        value_20 = count_0

                        break
                    if offset_1 == -1:
                        break
                    value_19.name = 'raw'
                    value_19.end = offset_1
                    value_19.end_column = column_1
                    value_19.value = None
                    children_1.append(value_19)

                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            children_3 = []
                            value_22 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_22.name = 'raw'
                            value_22.end = offset_2
                            value_22.end_column = column_2
                            value_22.value = None
                            children_2.append(value_22)

                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    if dedent is None:
                                        offset_2 = -1
                                        break
                                    _children, _prefix = [], []
                                    offset_3 = offset_2
                                    offset_3, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_3, column_2, list(indent_column_2), _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break
                                    else:
                                        offset_3 = offset_2
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_23 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_1 = 0
                                while True:
                                    offset_3 = offset_2
                                    column_3 = column_2
                                    indent_column_3 = list(indent_column_2)
                                    partial_tab_offset_3 = partial_tab_offset_2
                                    partial_tab_width_3 = partial_tab_width_2
                                    children_4 = [] if children_3 is not None else None
                                    while True:
                                        #print('entry rep rule', offset_2, offset_3)
                                        while True: # start reject
                                            children_5 = []
                                            offset_4 = offset_3 + 0
                                            column_4 = column_3
                                            indent_column_4 = list(indent_column_3)
                                            partial_tab_offset_4 = partial_tab_offset_3
                                            partial_tab_width_4 = partial_tab_width_3
                                            if buf[offset_4:offset_4+3] == ']]>':
                                                offset_4 += 3
                                                column_4 += 3
                                            else:
                                                offset_4 = -1
                                                break

                                            break
                                        if offset_4 != -1:
                                            offset_3 = -1
                                            break

                                        _match = regex_regex_3.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        #print('safe exit rep rule', offset_2, offset_3)
                                        break
                                    #print('exit rep rule', offset_2, offset_3)
                                    if offset_3 == -1:
                                        break
                                    if offset_2 == offset_3: break
                                    if children_4 is not None and children_4 is not None:
                                        children_3.extend(children_4)
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    count_1 += 1
                                if offset_2 == -1:
                                    break
                                value_24 = count_1

                                break
                            if offset_2 == -1:
                                break
                            value_23.name = 'raw'
                            value_23.end = offset_2
                            value_23.end_column = column_2
                            value_23.value = None
                            children_2.append(value_23)

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if offset_1 == -1:
                        break
                    value_21 = count_0

                    children_2 = []
                    value_25 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+3] == ']]>':
                            offset_1 += 3
                            column_1 += 3
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_25.name = 'raw'
                    value_25.end = offset_1
                    value_25.end_column = column_1
                    value_25.value = None
                    children_1.append(value_25)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_26 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+1] == '<':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_11.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_61.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_26.name = 'raw'
                    value_26.end = offset_1
                    value_26.end_column = column_1
                    value_26.value = None
                    children_1.append(value_26)

                    count_0 = 0
                    while True:
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True:
                            #print('entry rep rule', offset_1, offset_2)
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_28 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_1 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_1 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_1 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break
                                        if count_1 < 1:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_28.name = 'raw'
                                    value_28.end = offset_3
                                    value_28.end_column = column_3
                                    value_28.value = None
                                    children_3.append(value_28)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    count_1 = 0
                                    while True:
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_3, offset_4)
                                            children_5 = []
                                            value_30 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                if offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in '\n':
                                                        offset_4 +=1
                                                        column_4 = 0
                                                        indent_column_4[:] = (0, )
                                                    else:
                                                        offset_4 = -1
                                                        break
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_30.name = 'raw'
                                            value_30.end = offset_4
                                            value_30.end_column = column_4
                                            value_30.value = None
                                            children_4.append(value_30)

                                            if column_4 != 0:
                                                offset_4 = -1
                                                break
                                            # print('start')
                                            for indent, dedent in prefix_0:
                                                # print(indent, dedent)
                                                _children, _prefix = [], []
                                                offset_5 = offset_4
                                                offset_5, column_4, partial_tab_offset_4, partial_tab_width_4 = indent(buf, buf_start, buf_eof, offset_5, column_4, indent_column_4, _prefix, _children, partial_tab_offset_4, partial_tab_width_4)
                                                if _prefix or _children:
                                                   raise Exception('bar')
                                                if offset_5 == -1:
                                                    if dedent is None:
                                                        offset_4 = -1
                                                        break
                                                    _children, _prefix = [], []
                                                    offset_5 = offset_4
                                                    offset_5, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_5, column_4, list(indent_column_4), _prefix, _children, partial_tab_offset_4, partial_tab_width_4)
                                                    if offset_5 != -1:
                                                        offset_4 = -1
                                                        break
                                                    else:
                                                        offset_5 = offset_4
                                                offset_4 = offset_5
                                                indent_column_4.append(column_4)
                                            if offset_4 == -1:
                                                break

                                            children_5 = []
                                            value_31 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_31.name = 'raw'
                                            value_31.end = offset_4
                                            value_31.end_column = column_4
                                            value_31.value = None
                                            children_4.append(value_31)

                                            #print('safe exit rep rule', offset_3, offset_4)
                                            break
                                        #print('exit rep rule', offset_3, offset_4)
                                        if offset_4 == -1:
                                            break
                                        if offset_3 == offset_4: break
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        offset_3 = offset_4
                                        column_3 = column_4
                                        indent_column_3 = indent_column_4
                                        partial_tab_offset_3 = partial_tab_offset_4
                                        partial_tab_width_3 = partial_tab_width_4
                                        count_1 += 1
                                    if count_1 < 1:
                                    #    print('min exit', offset_3)
                                        offset_3 = -1
                                        break
                                    if offset_3 == -1:
                                        break
                                    value_29 = count_1


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_32 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                _match = regex_regex_62.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                _match = regex_regex_63.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_32.name = 'raw'
                            value_32.end = offset_2
                            value_32.end_column = column_2
                            value_32.value = None
                            children_2.append(value_32)

                            count_1 = 0
                            while count_1 < 1:
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True:
                                    #print('entry rep rule', offset_2, offset_3)
                                    children_4 = []
                                    value_34 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_2 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_2 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_2 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        if buf[offset_3:offset_3+1] == '=':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_34.name = 'raw'
                                    value_34.end = offset_3
                                    value_34.end_column = column_3
                                    value_34.value = None
                                    children_3.append(value_34)

                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_35 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_2 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_2 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_2 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_35.name = 'raw'
                                            value_35.end = offset_4
                                            value_35.end_column = column_4
                                            value_35.value = None
                                            children_4.append(value_35)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            count_2 = 0
                                            while True:
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_5 = [] if children_4 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_4, offset_5)
                                                    children_6 = []
                                                    value_37 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        count_3 = 0
                                                        while offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_5 == partial_tab_offset_5 and partial_tab_width_5 > 0:
                                                                        width = partial_tab_width_5
                                                                    else:
                                                                        width  = (self.tabstop-(column_5%self.tabstop))
                                                                    count_3 += width
                                                                    column_5 += width
                                                                    offset_5 += 1
                                                                else:
                                                                    count_3 += 1
                                                                    column_5 += 1
                                                                    offset_5 += 1
                                                            else:
                                                                break

                                                        if offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in '\n':
                                                                offset_5 +=1
                                                                column_5 = 0
                                                                indent_column_5[:] = (0, )
                                                            else:
                                                                offset_5 = -1
                                                                break
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_37.name = 'raw'
                                                    value_37.end = offset_5
                                                    value_37.end_column = column_5
                                                    value_37.value = None
                                                    children_5.append(value_37)

                                                    if column_5 != 0:
                                                        offset_5 = -1
                                                        break
                                                    # print('start')
                                                    for indent, dedent in prefix_0:
                                                        # print(indent, dedent)
                                                        _children, _prefix = [], []
                                                        offset_6 = offset_5
                                                        offset_6, column_5, partial_tab_offset_5, partial_tab_width_5 = indent(buf, buf_start, buf_eof, offset_6, column_5, indent_column_5, _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                        if _prefix or _children:
                                                           raise Exception('bar')
                                                        if offset_6 == -1:
                                                            if dedent is None:
                                                                offset_5 = -1
                                                                break
                                                            _children, _prefix = [], []
                                                            offset_6 = offset_5
                                                            offset_6, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_6, column_5, list(indent_column_5), _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                            if offset_6 != -1:
                                                                offset_5 = -1
                                                                break
                                                            else:
                                                                offset_6 = offset_5
                                                        offset_5 = offset_6
                                                        indent_column_5.append(column_5)
                                                    if offset_5 == -1:
                                                        break

                                                    children_6 = []
                                                    value_38 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        count_3 = 0
                                                        while offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in ' \t':
                                                                if codepoint == '\t':
                                                                    if offset_5 == partial_tab_offset_5 and partial_tab_width_5 > 0:
                                                                        width = partial_tab_width_5
                                                                    else:
                                                                        width  = (self.tabstop-(column_5%self.tabstop))
                                                                    count_3 += width
                                                                    column_5 += width
                                                                    offset_5 += 1
                                                                else:
                                                                    count_3 += 1
                                                                    column_5 += 1
                                                                    offset_5 += 1
                                                            else:
                                                                break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_38.name = 'raw'
                                                    value_38.end = offset_5
                                                    value_38.end_column = column_5
                                                    value_38.value = None
                                                    children_5.append(value_38)

                                                    #print('safe exit rep rule', offset_4, offset_5)
                                                    break
                                                #print('exit rep rule', offset_4, offset_5)
                                                if offset_5 == -1:
                                                    break
                                                if offset_4 == offset_5: break
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                offset_4 = offset_5
                                                column_4 = column_5
                                                indent_column_4 = indent_column_5
                                                partial_tab_offset_4 = partial_tab_offset_5
                                                partial_tab_width_4 = partial_tab_width_5
                                                count_2 += 1
                                            if offset_4 == -1:
                                                break
                                            value_36 = count_2


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    while True: # start choice
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_39 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                _match = regex_regex_64.match(buf, offset_4)
                                                if _match:
                                                    _end = _match.end()
                                                    column_4 += (_end - offset_4)
                                                    offset_4 = _end
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_39.name = 'raw'
                                            value_39.end = offset_4
                                            value_39.end_column = column_4
                                            value_39.value = None
                                            children_4.append(value_39)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_40 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                if buf[offset_4:offset_4+1] == '"':
                                                    offset_4 += 1
                                                    column_4 += 1
                                                else:
                                                    offset_4 = -1
                                                    break

                                                _match = regex_regex_65.match(buf, offset_4)
                                                if _match:
                                                    _end = _match.end()
                                                    column_4 += (_end - offset_4)
                                                    offset_4 = _end
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_40.name = 'raw'
                                            value_40.end = offset_4
                                            value_40.end_column = column_4
                                            value_40.value = None
                                            children_4.append(value_40)

                                            count_2 = 0
                                            while True:
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_5 = [] if children_4 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_4, offset_5)
                                                    children_6 = []
                                                    value_42 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        if offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in '\n':
                                                                offset_5 +=1
                                                                column_5 = 0
                                                                indent_column_5[:] = (0, )
                                                            else:
                                                                offset_5 = -1
                                                                break
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_42.name = 'raw'
                                                    value_42.end = offset_5
                                                    value_42.end_column = column_5
                                                    value_42.value = None
                                                    children_5.append(value_42)

                                                    if column_5 != 0:
                                                        offset_5 = -1
                                                        break
                                                    # print('start')
                                                    for indent, dedent in prefix_0:
                                                        # print(indent, dedent)
                                                        _children, _prefix = [], []
                                                        offset_6 = offset_5
                                                        offset_6, column_5, partial_tab_offset_5, partial_tab_width_5 = indent(buf, buf_start, buf_eof, offset_6, column_5, indent_column_5, _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                        if _prefix or _children:
                                                           raise Exception('bar')
                                                        if offset_6 == -1:
                                                            if dedent is None:
                                                                offset_5 = -1
                                                                break
                                                            _children, _prefix = [], []
                                                            offset_6 = offset_5
                                                            offset_6, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_6, column_5, list(indent_column_5), _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                            if offset_6 != -1:
                                                                offset_5 = -1
                                                                break
                                                            else:
                                                                offset_6 = offset_5
                                                        offset_5 = offset_6
                                                        indent_column_5.append(column_5)
                                                    if offset_5 == -1:
                                                        break

                                                    children_6 = []
                                                    value_43 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        _match = regex_regex_65.match(buf, offset_5)
                                                        if _match:
                                                            _end = _match.end()
                                                            column_5 += (_end - offset_5)
                                                            offset_5 = _end
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_43.name = 'raw'
                                                    value_43.end = offset_5
                                                    value_43.end_column = column_5
                                                    value_43.value = None
                                                    children_5.append(value_43)

                                                    #print('safe exit rep rule', offset_4, offset_5)
                                                    break
                                                #print('exit rep rule', offset_4, offset_5)
                                                if offset_5 == -1:
                                                    break
                                                if offset_4 == offset_5: break
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                offset_4 = offset_5
                                                column_4 = column_5
                                                indent_column_4 = indent_column_5
                                                partial_tab_offset_4 = partial_tab_offset_5
                                                partial_tab_width_4 = partial_tab_width_5
                                                count_2 += 1
                                            if offset_4 == -1:
                                                break
                                            value_41 = count_2

                                            children_5 = []
                                            value_44 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                if buf[offset_4:offset_4+1] == '"':
                                                    offset_4 += 1
                                                    column_4 += 1
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_44.name = 'raw'
                                            value_44.end = offset_4
                                            value_44.end_column = column_4
                                            value_44.value = None
                                            children_4.append(value_44)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True: # case
                                            children_5 = []
                                            value_45 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                if buf[offset_4:offset_4+1] == "'":
                                                    offset_4 += 1
                                                    column_4 += 1
                                                else:
                                                    offset_4 = -1
                                                    break

                                                _match = regex_regex_66.match(buf, offset_4)
                                                if _match:
                                                    _end = _match.end()
                                                    column_4 += (_end - offset_4)
                                                    offset_4 = _end
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_45.name = 'raw'
                                            value_45.end = offset_4
                                            value_45.end_column = column_4
                                            value_45.value = None
                                            children_4.append(value_45)

                                            count_2 = 0
                                            while True:
                                                offset_5 = offset_4
                                                column_5 = column_4
                                                indent_column_5 = list(indent_column_4)
                                                partial_tab_offset_5 = partial_tab_offset_4
                                                partial_tab_width_5 = partial_tab_width_4
                                                children_5 = [] if children_4 is not None else None
                                                while True:
                                                    #print('entry rep rule', offset_4, offset_5)
                                                    children_6 = []
                                                    value_47 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        if offset_5 < buf_eof:
                                                            codepoint = buf[offset_5]
                                                            if codepoint in '\n':
                                                                offset_5 +=1
                                                                column_5 = 0
                                                                indent_column_5[:] = (0, )
                                                            else:
                                                                offset_5 = -1
                                                                break
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_47.name = 'raw'
                                                    value_47.end = offset_5
                                                    value_47.end_column = column_5
                                                    value_47.value = None
                                                    children_5.append(value_47)

                                                    if column_5 != 0:
                                                        offset_5 = -1
                                                        break
                                                    # print('start')
                                                    for indent, dedent in prefix_0:
                                                        # print(indent, dedent)
                                                        _children, _prefix = [], []
                                                        offset_6 = offset_5
                                                        offset_6, column_5, partial_tab_offset_5, partial_tab_width_5 = indent(buf, buf_start, buf_eof, offset_6, column_5, indent_column_5, _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                        if _prefix or _children:
                                                           raise Exception('bar')
                                                        if offset_6 == -1:
                                                            if dedent is None:
                                                                offset_5 = -1
                                                                break
                                                            _children, _prefix = [], []
                                                            offset_6 = offset_5
                                                            offset_6, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_6, column_5, list(indent_column_5), _prefix, _children, partial_tab_offset_5, partial_tab_width_5)
                                                            if offset_6 != -1:
                                                                offset_5 = -1
                                                                break
                                                            else:
                                                                offset_6 = offset_5
                                                        offset_5 = offset_6
                                                        indent_column_5.append(column_5)
                                                    if offset_5 == -1:
                                                        break

                                                    children_6 = []
                                                    value_48 = Node(None, offset_5, offset_5, column_5, column_5, children_6, None)
                                                    while True: # start capture
                                                        _match = regex_regex_66.match(buf, offset_5)
                                                        if _match:
                                                            _end = _match.end()
                                                            column_5 += (_end - offset_5)
                                                            offset_5 = _end
                                                        else:
                                                            offset_5 = -1
                                                            break

                                                        break
                                                    if offset_5 == -1:
                                                        break
                                                    value_48.name = 'raw'
                                                    value_48.end = offset_5
                                                    value_48.end_column = column_5
                                                    value_48.value = None
                                                    children_5.append(value_48)

                                                    #print('safe exit rep rule', offset_4, offset_5)
                                                    break
                                                #print('exit rep rule', offset_4, offset_5)
                                                if offset_5 == -1:
                                                    break
                                                if offset_4 == offset_5: break
                                                if children_5 is not None and children_5 is not None:
                                                    children_4.extend(children_5)
                                                offset_4 = offset_5
                                                column_4 = column_5
                                                indent_column_4 = indent_column_5
                                                partial_tab_offset_4 = partial_tab_offset_5
                                                partial_tab_width_4 = partial_tab_width_5
                                                count_2 += 1
                                            if offset_4 == -1:
                                                break
                                            value_46 = count_2

                                            children_5 = []
                                            value_49 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                if buf[offset_4:offset_4+1] == "'":
                                                    offset_4 += 1
                                                    column_4 += 1
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_49.name = 'raw'
                                            value_49.end = offset_4
                                            value_49.end_column = column_4
                                            value_49.value = None
                                            children_4.append(value_49)


                                            break
                                        if offset_4 != -1:
                                            offset_3 = offset_4
                                            column_3 = column_4
                                            indent_column_3 = indent_column_4
                                            partial_tab_offset_3 = partial_tab_offset_4
                                            partial_tab_width_3 = partial_tab_width_4
                                            if children_4 is not None and children_4 is not None:
                                                children_3.extend(children_4)
                                            break
                                        # end case
                                        offset_3 = -1 # no more choices
                                        break # end choice
                                    if offset_3 == -1:
                                        break

                                    #print('safe exit rep rule', offset_2, offset_3)
                                    break
                                #print('exit rep rule', offset_2, offset_3)
                                if offset_3 == -1:
                                    break
                                if offset_2 == offset_3: break
                                if children_3 is not None and children_3 is not None:
                                    children_2.extend(children_3)
                                offset_2 = offset_3
                                column_2 = column_3
                                indent_column_2 = indent_column_3
                                partial_tab_offset_2 = partial_tab_offset_3
                                partial_tab_width_2 = partial_tab_width_3
                                count_1 += 1
                                break
                            if offset_2 == -1:
                                break
                            value_33 = count_1

                            #print('safe exit rep rule', offset_1, offset_2)
                            break
                        #print('exit rep rule', offset_1, offset_2)
                        if offset_2 == -1:
                            break
                        if offset_1 == offset_2: break
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        offset_1 = offset_2
                        column_1 = column_2
                        indent_column_1 = indent_column_2
                        partial_tab_offset_1 = partial_tab_offset_2
                        partial_tab_width_1 = partial_tab_width_2
                        count_0 += 1
                    if offset_1 == -1:
                        break
                    value_27 = count_0

                    while True: # start choice
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            children_3 = []
                            value_50 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                count_0 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_0 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_0 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break

                                _match = regex_regex_67.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_50.name = 'raw'
                            value_50.end = offset_2
                            value_50.end_column = column_2
                            value_50.value = None
                            children_2.append(value_50)


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_2 = offset_1
                        column_2 = column_1
                        indent_column_2 = list(indent_column_1)
                        partial_tab_offset_2 = partial_tab_offset_1
                        partial_tab_width_2 = partial_tab_width_1
                        children_2 = [] if children_1 is not None else None
                        while True: # case
                            while True: # start choice
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    children_4 = []
                                    value_51 = Node(None, offset_3, offset_3, column_3, column_3, children_4, None)
                                    while True: # start capture
                                        count_0 = 0
                                        while offset_3 < buf_eof:
                                            codepoint = buf[offset_3]
                                            if codepoint in ' \t':
                                                if codepoint == '\t':
                                                    if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                        width = partial_tab_width_3
                                                    else:
                                                        width  = (self.tabstop-(column_3%self.tabstop))
                                                    count_0 += width
                                                    column_3 += width
                                                    offset_3 += 1
                                                else:
                                                    count_0 += 1
                                                    column_3 += 1
                                                    offset_3 += 1
                                            else:
                                                break

                                        break
                                    if offset_3 == -1:
                                        break
                                    value_51.name = 'raw'
                                    value_51.end = offset_3
                                    value_51.end_column = column_3
                                    value_51.value = None
                                    children_3.append(value_51)


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_3 = offset_2
                                column_3 = column_2
                                indent_column_3 = list(indent_column_2)
                                partial_tab_offset_3 = partial_tab_offset_2
                                partial_tab_width_3 = partial_tab_width_2
                                children_3 = [] if children_2 is not None else None
                                while True: # case
                                    count_0 = 0
                                    while True:
                                        offset_4 = offset_3
                                        column_4 = column_3
                                        indent_column_4 = list(indent_column_3)
                                        partial_tab_offset_4 = partial_tab_offset_3
                                        partial_tab_width_4 = partial_tab_width_3
                                        children_4 = [] if children_3 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_3, offset_4)
                                            children_5 = []
                                            value_53 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_1 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_1 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_1 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                if offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in '\n':
                                                        offset_4 +=1
                                                        column_4 = 0
                                                        indent_column_4[:] = (0, )
                                                    else:
                                                        offset_4 = -1
                                                        break
                                                else:
                                                    offset_4 = -1
                                                    break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_53.name = 'raw'
                                            value_53.end = offset_4
                                            value_53.end_column = column_4
                                            value_53.value = None
                                            children_4.append(value_53)

                                            if column_4 != 0:
                                                offset_4 = -1
                                                break
                                            # print('start')
                                            for indent, dedent in prefix_0:
                                                # print(indent, dedent)
                                                _children, _prefix = [], []
                                                offset_5 = offset_4
                                                offset_5, column_4, partial_tab_offset_4, partial_tab_width_4 = indent(buf, buf_start, buf_eof, offset_5, column_4, indent_column_4, _prefix, _children, partial_tab_offset_4, partial_tab_width_4)
                                                if _prefix or _children:
                                                   raise Exception('bar')
                                                if offset_5 == -1:
                                                    if dedent is None:
                                                        offset_4 = -1
                                                        break
                                                    _children, _prefix = [], []
                                                    offset_5 = offset_4
                                                    offset_5, _column, _partial_tab_offset, _partial_tab_width = dedent(buf, buf_start, buf_eof, offset_5, column_4, list(indent_column_4), _prefix, _children, partial_tab_offset_4, partial_tab_width_4)
                                                    if offset_5 != -1:
                                                        offset_4 = -1
                                                        break
                                                    else:
                                                        offset_5 = offset_4
                                                offset_4 = offset_5
                                                indent_column_4.append(column_4)
                                            if offset_4 == -1:
                                                break

                                            children_5 = []
                                            value_54 = Node(None, offset_4, offset_4, column_4, column_4, children_5, None)
                                            while True: # start capture
                                                count_1 = 0
                                                while offset_4 < buf_eof:
                                                    codepoint = buf[offset_4]
                                                    if codepoint in ' \t':
                                                        if codepoint == '\t':
                                                            if offset_4 == partial_tab_offset_4 and partial_tab_width_4 > 0:
                                                                width = partial_tab_width_4
                                                            else:
                                                                width  = (self.tabstop-(column_4%self.tabstop))
                                                            count_1 += width
                                                            column_4 += width
                                                            offset_4 += 1
                                                        else:
                                                            count_1 += 1
                                                            column_4 += 1
                                                            offset_4 += 1
                                                    else:
                                                        break

                                                break
                                            if offset_4 == -1:
                                                break
                                            value_54.name = 'raw'
                                            value_54.end = offset_4
                                            value_54.end_column = column_4
                                            value_54.value = None
                                            children_4.append(value_54)

                                            #print('safe exit rep rule', offset_3, offset_4)
                                            break
                                        #print('exit rep rule', offset_3, offset_4)
                                        if offset_4 == -1:
                                            break
                                        if offset_3 == offset_4: break
                                        if children_4 is not None and children_4 is not None:
                                            children_3.extend(children_4)
                                        offset_3 = offset_4
                                        column_3 = column_4
                                        indent_column_3 = indent_column_4
                                        partial_tab_offset_3 = partial_tab_offset_4
                                        partial_tab_width_3 = partial_tab_width_4
                                        count_0 += 1
                                    if offset_3 == -1:
                                        break
                                    value_52 = count_0


                                    break
                                if offset_3 != -1:
                                    offset_2 = offset_3
                                    column_2 = column_3
                                    indent_column_2 = indent_column_3
                                    partial_tab_offset_2 = partial_tab_offset_3
                                    partial_tab_width_2 = partial_tab_width_3
                                    if children_3 is not None and children_3 is not None:
                                        children_2.extend(children_3)
                                    break
                                # end case
                                offset_2 = -1 # no more choices
                                break # end choice
                            if offset_2 == -1:
                                break

                            children_3 = []
                            value_55 = Node(None, offset_2, offset_2, column_2, column_2, children_3, None)
                            while True: # start capture
                                if buf[offset_2:offset_2+2] == '/>':
                                    offset_2 += 2
                                    column_2 += 2
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 == -1:
                                break
                            value_55.name = 'raw'
                            value_55.end = offset_2
                            value_55.end_column = column_2
                            value_55.value = None
                            children_2.append(value_55)


                            break
                        if offset_2 != -1:
                            offset_1 = offset_2
                            column_1 = column_2
                            indent_column_1 = indent_column_2
                            partial_tab_offset_1 = partial_tab_offset_2
                            partial_tab_width_1 = partial_tab_width_2
                            if children_2 is not None and children_2 is not None:
                                children_1.extend(children_2)
                            break
                        # end case
                        offset_1 = -1 # no more choices
                        break # end choice
                    if offset_1 == -1:
                        break


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_1 = offset_0
                column_1 = column_0
                indent_column_1 = list(indent_column_0)
                partial_tab_offset_1 = partial_tab_offset_0
                partial_tab_width_1 = partial_tab_width_0
                children_1 = [] if children_0 is not None else None
                while True: # case
                    children_2 = []
                    value_56 = Node(None, offset_1, offset_1, column_1, column_1, children_2, None)
                    while True: # start capture
                        if buf[offset_1:offset_1+2] == '</':
                            offset_1 += 2
                            column_1 += 2
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_11.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        _match = regex_regex_61.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if buf[offset_1:offset_1+1] == '>':
                            offset_1 += 1
                            column_1 += 1
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 == -1:
                        break
                    value_56.name = 'raw'
                    value_56.end = offset_1
                    value_56.end_column = column_1
                    value_56.value = None
                    children_1.append(value_56)


                    break
                if offset_1 != -1:
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    if children_1 is not None and children_1 is not None:
                        children_0.extend(children_1)
                    break
                # end case
                offset_0 = -1 # no more choices
                break # end choice
            if offset_0 == -1:
                break

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_1(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    _match = regex_regex_52.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    while True: # start lookahed
                        children_3 = []
                        offset_1 = offset_0 + 0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                count_0 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_0 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_0 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break
                                if count_0 < 1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                _match = regex_regex_57.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        break
                    if offset_1 == -1:
                        offset_0 = -1
                        break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                _match = regex_regex_68.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            _match = regex_regex_3.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 != buf_eof:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_1 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        _match = regex_regex_68.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_1 += 1
                            if offset_1 == -1:
                                break
                            value_6 = count_1

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_3 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            _match = regex_regex_68.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_7.name = 'raw'
                        value_7.end = offset_1
                        value_7.end_column = column_1
                        value_7.value = None
                        children_2.append(value_7)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        _match = regex_regex_68.match(buf, offset_3)
                                        if _match:
                                            _end = _match.end()
                                            column_3 += (_end - offset_3)
                                            offset_3 = _end
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_9 = count_0

                            break
                        if offset_1 == -1:
                            break
                        value_8.name = 'raw'
                        value_8.end = offset_1
                        value_8.end_column = column_1
                        value_8.value = None
                        children_2.append(value_8)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_2(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    if buf[offset_0:offset_0+4] == '<!--':
                        offset_0 += 4
                        column_0 += 4
                    else:
                        offset_0 = -1
                        break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                if buf[offset_2:offset_2+3] == '-->':
                                    offset_2 += 3
                                    column_2 += 3
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            _match = regex_regex_3.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 != buf_eof:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_1 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+3] == '-->':
                                            offset_3 += 3
                                            column_3 += 3
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_1 += 1
                            if offset_1 == -1:
                                break
                            value_6 = count_1

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_3 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if buf[offset_1:offset_1+3] == '-->':
                                offset_1 += 3
                                column_1 += 3
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_7.name = 'raw'
                        value_7.end = offset_1
                        value_7.end_column = column_1
                        value_7.value = None
                        children_2.append(value_7)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+3] == '-->':
                                            offset_3 += 3
                                            column_3 += 3
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_9 = count_0

                            break
                        if offset_1 == -1:
                            break
                        value_8.name = 'raw'
                        value_8.end = offset_1
                        value_8.end_column = column_1
                        value_8.value = None
                        children_2.append(value_8)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_3(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    if buf[offset_0:offset_0+2] == '<?':
                        offset_0 += 2
                        column_0 += 2
                    else:
                        offset_0 = -1
                        break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                if buf[offset_2:offset_2+2] == '?>':
                                    offset_2 += 2
                                    column_2 += 2
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            _match = regex_regex_3.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 != buf_eof:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_1 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+2] == '?>':
                                            offset_3 += 2
                                            column_3 += 2
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_1 += 1
                            if offset_1 == -1:
                                break
                            value_6 = count_1

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_3 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if buf[offset_1:offset_1+2] == '?>':
                                offset_1 += 2
                                column_1 += 2
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_7.name = 'raw'
                        value_7.end = offset_1
                        value_7.end_column = column_1
                        value_7.value = None
                        children_2.append(value_7)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+2] == '?>':
                                            offset_3 += 2
                                            column_3 += 2
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_9 = count_0

                            break
                        if offset_1 == -1:
                            break
                        value_8.name = 'raw'
                        value_8.end = offset_1
                        value_8.end_column = column_1
                        value_8.value = None
                        children_2.append(value_8)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_4(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    if buf[offset_0:offset_0+2] == '<!':
                        offset_0 += 2
                        column_0 += 2
                    else:
                        offset_0 = -1
                        break

                    _match = regex_regex_59.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                if buf[offset_2:offset_2+1] == '>':
                                    offset_2 += 1
                                    column_2 += 1
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            _match = regex_regex_3.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 != buf_eof:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_1 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+1] == '>':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_1 += 1
                            if offset_1 == -1:
                                break
                            value_6 = count_1

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_3 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if buf[offset_1:offset_1+1] == '>':
                                offset_1 += 1
                                column_1 += 1
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_7.name = 'raw'
                        value_7.end = offset_1
                        value_7.end_column = column_1
                        value_7.value = None
                        children_2.append(value_7)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+1] == '>':
                                            offset_3 += 1
                                            column_3 += 1
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_9 = count_0

                            break
                        if offset_1 == -1:
                            break
                        value_8.name = 'raw'
                        value_8.end = offset_1
                        value_8.end_column = column_1
                        value_8.value = None
                        children_2.append(value_8)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_5(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    if buf[offset_0:offset_0+9] == '<![CDATA[':
                        offset_0 += 9
                        column_0 += 9
                    else:
                        offset_0 = -1
                        break

                    count_0 = 0
                    while True:
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True:
                            #print('entry rep rule', offset_0, offset_1)
                            while True: # start reject
                                children_4 = []
                                offset_2 = offset_1 + 0
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                if buf[offset_2:offset_2+3] == ']]>':
                                    offset_2 += 3
                                    column_2 += 3
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = -1
                                break

                            _match = regex_regex_3.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            #print('safe exit rep rule', offset_0, offset_1)
                            break
                        #print('exit rep rule', offset_0, offset_1)
                        if offset_1 == -1:
                            break
                        if offset_0 == offset_1: break
                        if children_3 is not None and children_3 is not None:
                            children_2.extend(children_3)
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        count_0 += 1
                    if offset_0 == -1:
                        break
                    value_2 = count_0

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 != buf_eof:
                                offset_2 = -1
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_1 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+3] == ']]>':
                                            offset_3 += 3
                                            column_3 += 3
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_1 += 1
                            if offset_1 == -1:
                                break
                            value_6 = count_1

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_3 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_7 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if buf[offset_1:offset_1+3] == ']]>':
                                offset_1 += 3
                                column_1 += 3
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_7.name = 'raw'
                        value_7.end = offset_1
                        value_7.end_column = column_1
                        value_7.value = None
                        children_2.append(value_7)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        children_3 = []
                        value_8 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    while True: # start reject
                                        children_5 = []
                                        offset_3 = offset_2 + 0
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        if buf[offset_3:offset_3+3] == ']]>':
                                            offset_3 += 3
                                            column_3 += 3
                                        else:
                                            offset_3 = -1
                                            break

                                        break
                                    if offset_3 != -1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_3.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_9 = count_0

                            break
                        if offset_1 == -1:
                            break
                        value_8.name = 'raw'
                        value_8.end = offset_1
                        value_8.end_column = column_1
                        value_8.value = None
                        children_2.append(value_8)

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_6(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    _match = regex_regex_55.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    _match = regex_regex_56.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    while True: # start lookahed
                        children_3 = []
                        offset_1 = offset_0 + 0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        while True: # start choice
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                count_0 = 0
                                while offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in ' \t':
                                        if codepoint == '\t':
                                            if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                width = partial_tab_width_2
                                            else:
                                                width  = (self.tabstop-(column_2%self.tabstop))
                                            count_0 += width
                                            column_2 += width
                                            offset_2 += 1
                                        else:
                                            count_0 += 1
                                            column_2 += 1
                                            offset_2 += 1
                                    else:
                                        break
                                if count_0 < 1:
                                    offset_2 = -1
                                    break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                _match = regex_regex_57.match(buf, offset_2)
                                if _match:
                                    _end = _match.end()
                                    column_2 += (_end - offset_2)
                                    offset_2 = _end
                                else:
                                    offset_2 = -1
                                    break

                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_2 = offset_1
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            children_4 = [] if children_3 is not None else None
                            while True: # case
                                if offset_2 < buf_eof:
                                    codepoint = buf[offset_2]
                                    if codepoint in '\n':
                                        offset_2 +=1
                                        column_2 = 0
                                        indent_column_2[:] = (0, )
                                    else:
                                        offset_2 = -1
                                        break


                                break
                            if offset_2 != -1:
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                break
                            # end case
                            offset_1 = -1 # no more choices
                            break # end choice
                        if offset_1 == -1:
                            break

                        break
                    if offset_1 == -1:
                        offset_0 = -1
                        break

                    _match = regex_regex_14.match(buf, offset_0)
                    if _match:
                        _end = _match.end()
                        column_0 += (_end - offset_0)
                        offset_0 = _end
                    else:
                        offset_0 = -1
                        break

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_3 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_3.name = 'raw'
                        value_3.end = offset_1
                        value_3.end_column = column_1
                        value_3.value = None
                        children_2.append(value_3)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_4 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_4.name = 'raw'
                        value_4.end = offset_1
                        value_4.end_column = column_1
                        value_4.value = None
                        children_2.append(value_4)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_2 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break

                        if offset_1 != buf_eof:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0

    def parse_html_block_type_7(self, buf, buf_start, buf_eof, offset_0, column_0, indent_column_0, prefix_0, children_0, partial_tab_offset_0, partial_tab_width_0):
        while True: # note: return at end of loop
            children_1 = []
            value_0 = Node(None, offset_0, offset_0, column_0, column_0, children_1, None)
            while True: # start capture
                children_2 = []
                value_1 = Node(None, offset_0, offset_0, column_0, column_0, children_2, None)
                while True: # start capture
                    count_0 = 0
                    while offset_0 < buf_eof and count_0 < 3:
                        codepoint = buf[offset_0]
                        if codepoint in ' \t':
                            if codepoint == '\t':
                                if offset_0 == partial_tab_offset_0 and partial_tab_width_0 > 0:
                                    width = partial_tab_width_0
                                else:
                                    width  = (self.tabstop-(column_0%self.tabstop))
                                if count_0 + width > 3:
                                    new_width = 3 - count_0
                                    count_0 += new_width
                                    column_0 += new_width
                                    partial_tab_offset_0 = offset_0
                                    partial_tab_width_0 = width - new_width
                                    break
                                count_0 += width
                                column_0 += width
                                offset_0 += 1
                            else:
                                count_0 += 1
                                column_0 += 1
                                offset_0 += 1
                        else:
                            break

                    if buf[offset_0:offset_0+1] == '<':
                        offset_0 += 1
                        column_0 += 1
                    else:
                        offset_0 = -1
                        break

                    while True: # start reject
                        children_3 = []
                        offset_1 = offset_0 + 0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        _match = regex_regex_69.match(buf, offset_1)
                        if _match:
                            _end = _match.end()
                            column_1 += (_end - offset_1)
                            offset_1 = _end
                        else:
                            offset_1 = -1
                            break

                        break
                    if offset_1 != -1:
                        offset_0 = -1
                        break

                    while True: # start choice
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True: # case
                            if buf[offset_1:offset_1+1] == '/':
                                offset_1 += 1
                                column_1 += 1
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_11.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_61.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break

                            if buf[offset_1:offset_1+1] == '>':
                                offset_1 += 1
                                column_1 += 1
                            else:
                                offset_1 = -1
                                break

                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break


                            break
                        if offset_1 != -1:
                            offset_0 = offset_1
                            column_0 = column_1
                            indent_column_0 = indent_column_1
                            partial_tab_offset_0 = partial_tab_offset_1
                            partial_tab_width_0 = partial_tab_width_1
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            break
                        # end case
                        offset_1 = offset_0
                        column_1 = column_0
                        indent_column_1 = list(indent_column_0)
                        partial_tab_offset_1 = partial_tab_offset_0
                        partial_tab_width_1 = partial_tab_width_0
                        children_3 = [] if children_2 is not None else None
                        while True: # case
                            _match = regex_regex_11.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            _match = regex_regex_61.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            count_0 = 0
                            while True:
                                offset_2 = offset_1
                                column_2 = column_1
                                indent_column_2 = list(indent_column_1)
                                partial_tab_offset_2 = partial_tab_offset_1
                                partial_tab_width_2 = partial_tab_width_1
                                children_4 = [] if children_3 is not None else None
                                while True:
                                    #print('entry rep rule', offset_1, offset_2)
                                    count_1 = 0
                                    while offset_2 < buf_eof:
                                        codepoint = buf[offset_2]
                                        if codepoint in ' \t':
                                            if codepoint == '\t':
                                                if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                                    width = partial_tab_width_2
                                                else:
                                                    width  = (self.tabstop-(column_2%self.tabstop))
                                                count_1 += width
                                                column_2 += width
                                                offset_2 += 1
                                            else:
                                                count_1 += 1
                                                column_2 += 1
                                                offset_2 += 1
                                        else:
                                            break
                                    if count_1 < 1:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_62.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    _match = regex_regex_63.match(buf, offset_2)
                                    if _match:
                                        _end = _match.end()
                                        column_2 += (_end - offset_2)
                                        offset_2 = _end
                                    else:
                                        offset_2 = -1
                                        break

                                    count_1 = 0
                                    while count_1 < 1:
                                        offset_3 = offset_2
                                        column_3 = column_2
                                        indent_column_3 = list(indent_column_2)
                                        partial_tab_offset_3 = partial_tab_offset_2
                                        partial_tab_width_3 = partial_tab_width_2
                                        children_5 = [] if children_4 is not None else None
                                        while True:
                                            #print('entry rep rule', offset_2, offset_3)
                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_2 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            if buf[offset_3:offset_3+1] == '=':
                                                offset_3 += 1
                                                column_3 += 1
                                            else:
                                                offset_3 = -1
                                                break

                                            count_2 = 0
                                            while offset_3 < buf_eof:
                                                codepoint = buf[offset_3]
                                                if codepoint in ' \t':
                                                    if codepoint == '\t':
                                                        if offset_3 == partial_tab_offset_3 and partial_tab_width_3 > 0:
                                                            width = partial_tab_width_3
                                                        else:
                                                            width  = (self.tabstop-(column_3%self.tabstop))
                                                        count_2 += width
                                                        column_3 += width
                                                        offset_3 += 1
                                                    else:
                                                        count_2 += 1
                                                        column_3 += 1
                                                        offset_3 += 1
                                                else:
                                                    break

                                            _match = regex_regex_70.match(buf, offset_3)
                                            if _match:
                                                _end = _match.end()
                                                column_3 += (_end - offset_3)
                                                offset_3 = _end
                                            else:
                                                offset_3 = -1
                                                break

                                            #print('safe exit rep rule', offset_2, offset_3)
                                            break
                                        #print('exit rep rule', offset_2, offset_3)
                                        if offset_3 == -1:
                                            break
                                        if offset_2 == offset_3: break
                                        if children_5 is not None and children_5 is not None:
                                            children_4.extend(children_5)
                                        offset_2 = offset_3
                                        column_2 = column_3
                                        indent_column_2 = indent_column_3
                                        partial_tab_offset_2 = partial_tab_offset_3
                                        partial_tab_width_2 = partial_tab_width_3
                                        count_1 += 1
                                        break
                                    if offset_2 == -1:
                                        break
                                    value_3 = count_1

                                    #print('safe exit rep rule', offset_1, offset_2)
                                    break
                                #print('exit rep rule', offset_1, offset_2)
                                if offset_2 == -1:
                                    break
                                if offset_1 == offset_2: break
                                if children_4 is not None and children_4 is not None:
                                    children_3.extend(children_4)
                                offset_1 = offset_2
                                column_1 = column_2
                                indent_column_1 = indent_column_2
                                partial_tab_offset_1 = partial_tab_offset_2
                                partial_tab_width_1 = partial_tab_width_2
                                count_0 += 1
                            if offset_1 == -1:
                                break
                            value_2 = count_0

                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break

                            _match = regex_regex_71.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            count_0 = 0
                            while offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                            width = partial_tab_width_1
                                        else:
                                            width  = (self.tabstop-(column_1%self.tabstop))
                                        count_0 += width
                                        column_1 += width
                                        offset_1 += 1
                                    else:
                                        count_0 += 1
                                        column_1 += 1
                                        offset_1 += 1
                                else:
                                    break


                            break
                        if offset_1 != -1:
                            offset_0 = offset_1
                            column_0 = column_1
                            indent_column_0 = indent_column_1
                            partial_tab_offset_0 = partial_tab_offset_1
                            partial_tab_width_0 = partial_tab_width_1
                            if children_3 is not None and children_3 is not None:
                                children_2.extend(children_3)
                            break
                        # end case
                        offset_0 = -1 # no more choices
                        break # end choice
                    if offset_0 == -1:
                        break

                    break
                if offset_0 == -1:
                    break
                value_1.name = 'raw'
                value_1.end = offset_0
                value_1.end_column = column_0
                value_1.value = None
                children_1.append(value_1)

                count_0 = 0
                while True:
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True:
                        #print('entry rep rule', offset_0, offset_1)
                        children_3 = []
                        value_5 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            if offset_1 < buf_eof:
                                codepoint = buf[offset_1]
                                if codepoint in '\n':
                                    offset_1 +=1
                                    column_1 = 0
                                    indent_column_1[:] = (0, )
                                else:
                                    offset_1 = -1
                                    break
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_5.name = 'raw'
                        value_5.end = offset_1
                        value_5.end_column = column_1
                        value_5.value = None
                        children_2.append(value_5)

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            count_1 = 0
                            while offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in ' \t':
                                    if codepoint == '\t':
                                        if offset_2 == partial_tab_offset_2 and partial_tab_width_2 > 0:
                                            width = partial_tab_width_2
                                        else:
                                            width  = (self.tabstop-(column_2%self.tabstop))
                                        count_1 += width
                                        column_2 += width
                                        offset_2 += 1
                                    else:
                                        count_1 += 1
                                        column_2 += 1
                                        offset_2 += 1
                                else:
                                    break

                            if offset_2 < buf_eof:
                                codepoint = buf[offset_2]
                                if codepoint in '\n':
                                    offset_2 +=1
                                    column_2 = 0
                                    indent_column_2[:] = (0, )
                                else:
                                    offset_2 = -1
                                    break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break

                        children_3 = []
                        value_6 = Node(None, offset_1, offset_1, column_1, column_1, children_3, None)
                        while True: # start capture
                            _match = regex_regex_14.match(buf, offset_1)
                            if _match:
                                _end = _match.end()
                                column_1 += (_end - offset_1)
                                offset_1 = _end
                            else:
                                offset_1 = -1
                                break

                            break
                        if offset_1 == -1:
                            break
                        value_6.name = 'raw'
                        value_6.end = offset_1
                        value_6.end_column = column_1
                        value_6.value = None
                        children_2.append(value_6)

                        #print('safe exit rep rule', offset_0, offset_1)
                        break
                    #print('exit rep rule', offset_0, offset_1)
                    if offset_1 == -1:
                        break
                    if offset_0 == offset_1: break
                    if children_2 is not None and children_2 is not None:
                        children_1.extend(children_2)
                    offset_0 = offset_1
                    column_0 = column_1
                    indent_column_0 = indent_column_1
                    partial_tab_offset_0 = partial_tab_offset_1
                    partial_tab_width_0 = partial_tab_width_1
                    count_0 += 1
                if offset_0 == -1:
                    break
                value_4 = count_0

                while True: # start choice
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break

                        if column_1 != 0:
                            offset_1 = -1
                            break
                        # print('start')
                        for indent, dedent in prefix_0:
                            # print(indent, dedent)
                            _children, _prefix = [], []
                            offset_2 = offset_1
                            offset_2, column_1, partial_tab_offset_1, partial_tab_width_1 = indent(buf, buf_start, buf_eof, offset_2, column_1, indent_column_1, _prefix, _children, partial_tab_offset_1, partial_tab_width_1)
                            if _prefix or _children:
                               raise Exception('bar')
                            if offset_2 == -1:
                                offset_1 = -1
                                break
                            offset_1 = offset_2
                            indent_column_1.append(column_1)
                        if offset_1 == -1:
                            break

                        count_0 = 0
                        while offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in ' \t':
                                if codepoint == '\t':
                                    if offset_1 == partial_tab_offset_1 and partial_tab_width_1 > 0:
                                        width = partial_tab_width_1
                                    else:
                                        width  = (self.tabstop-(column_1%self.tabstop))
                                    count_0 += width
                                    column_1 += width
                                    offset_1 += 1
                                else:
                                    count_0 += 1
                                    column_1 += 1
                                    offset_1 += 1
                            else:
                                break

                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break
                        else:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break

                        while True: # start reject
                            children_3 = []
                            offset_2 = offset_1 + 0
                            column_2 = column_1
                            indent_column_2 = list(indent_column_1)
                            partial_tab_offset_2 = partial_tab_offset_1
                            partial_tab_width_2 = partial_tab_width_1
                            if column_2 != 0:
                                offset_2 = -1
                                break
                            # print('start')
                            for indent, dedent in prefix_0:
                                # print(indent, dedent)
                                _children, _prefix = [], []
                                offset_3 = offset_2
                                offset_3, column_2, partial_tab_offset_2, partial_tab_width_2 = indent(buf, buf_start, buf_eof, offset_3, column_2, indent_column_2, _prefix, _children, partial_tab_offset_2, partial_tab_width_2)
                                if _prefix or _children:
                                   raise Exception('bar')
                                if offset_3 == -1:
                                    offset_2 = -1
                                    break
                                offset_2 = offset_3
                                indent_column_2.append(column_2)
                            if offset_2 == -1:
                                break

                            break
                        if offset_2 != -1:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_1 = offset_0
                    column_1 = column_0
                    indent_column_1 = list(indent_column_0)
                    partial_tab_offset_1 = partial_tab_offset_0
                    partial_tab_width_1 = partial_tab_width_0
                    children_2 = [] if children_1 is not None else None
                    while True: # case
                        if offset_1 < buf_eof:
                            codepoint = buf[offset_1]
                            if codepoint in '\n':
                                offset_1 +=1
                                column_1 = 0
                                indent_column_1[:] = (0, )
                            else:
                                offset_1 = -1
                                break

                        if offset_1 != buf_eof:
                            offset_1 = -1
                            break


                        break
                    if offset_1 != -1:
                        offset_0 = offset_1
                        column_0 = column_1
                        indent_column_0 = indent_column_1
                        partial_tab_offset_0 = partial_tab_offset_1
                        partial_tab_width_0 = partial_tab_width_1
                        if children_2 is not None and children_2 is not None:
                            children_1.extend(children_2)
                        break
                    # end case
                    offset_0 = -1 # no more choices
                    break # end choice
                if offset_0 == -1:
                    break

                break
            if offset_0 == -1:
                break
            value_0.name = 'html_block'
            value_0.end = offset_0
            value_0.end_column = column_0
            value_0.value = None
            children_0.append(value_0)

            break
        return offset_0, column_0, partial_tab_offset_0, partial_tab_width_0
